<?xml version="1.0"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://yeminxi.github.io</id>
    <title>叶泯希·杂七杂八的🐕窝 • Posts by &#34;网络&#34; tag</title>
    <link href="https://yeminxi.github.io" />
    <updated>2024-05-28T05:31:51.000Z</updated>
    <category term="语法" />
    <category term="文档" />
    <category term="海" />
    <category term="乱拍" />
    <category term="交通" />
    <category term="晚上" />
    <category term="数据库" />
    <category term="开发语言" />
    <category term="MySql" />
    <category term="PHP" />
    <category term="服务器" />
    <category term="运维" />
    <category term="VMware" />
    <category term="Linux" />
    <category term="CentOS" />
    <category term="网络" />
    <category term="FTP" />
    <category term="Samba" />
    <category term="安全" />
    <category term="SSH" />
    <category term="DNS" />
    <category term="mariadb" />
    <category term="Apache" />
    <category term="网络安全" />
    <category term="网络协议" />
    <category term="DHCP" />
    <entry>
        <id>https://yeminxi.github.io/posts/2d95345a.html</id>
        <title>第七章 Centos 7 Linux配置ftp 实训任务1：FTP服务器加密传输</title>
        <link rel="alternate" href="https://yeminxi.github.io/posts/2d95345a.html"/>
        <content type="html">&lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;&amp;#x3D;&amp;#x3D;前面的DNS一定要成功才能做！！！&amp;#x3D;&amp;#x3D;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;虚拟机需求：1台DNS服务器（Server）、1台Web服务器（Ftp Server）、1台客户端（Client1）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第五章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;FTP服务器加密传输&#34;&gt;&lt;a href=&#34;#FTP服务器加密传输&#34; class=&#34;headerlink&#34; title=&#34;FTP服务器加密传输&#34;&gt;&lt;/a&gt;FTP服务器加密传输&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;任务情境描述&lt;br&gt;某公司在需要使用vsftpd搭建一台FTP服务器，用于web站点资料的更新和公司公用文件的存放。为了保证客户机和服务器之间传输数据的保密性和完整性，公司决定使用SSL&amp;#x2F;TLS协议加固FTP服务器，客户机和服务器之间采用SSL&amp;#x2F;TLS协议加密数据。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;任务要求：&#34;&gt;&lt;a href=&#34;#任务要求：&#34; class=&#34;headerlink&#34; title=&#34;任务要求：&#34;&gt;&lt;/a&gt;任务要求：&lt;/h2&gt;&lt;blockquote&gt;
&lt;h3 id=&#34;1-禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&#34;&gt;&lt;a href=&#34;#1-禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&#34; class=&#34;headerlink&#34; title=&#34;1. 禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&#34;&gt;&lt;/a&gt;1. 禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;Country Name (2 letter code) [XX]:CN
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;State or Province Name (fullname) []:GD 	 	&lt;br&gt;Locality Name (eg, city) [Default City]:GuangZhou 	&lt;br&gt;    Organization Name (eg, company) [Default Company Ltd]:mydomain.com 	&lt;br&gt;    Organizational Unit Name (eg, section) []:Operations Departments 	&lt;br&gt;    Common Name (eg, your name or your server’s hostname)[]:ftp.mydomain.com&lt;/p&gt;
&lt;h3 id=&#34;2-使用ftp-mydomian-com域名访问服务器；&#34;&gt;&lt;a href=&#34;#2-使用ftp-mydomian-com域名访问服务器；&#34; class=&#34;headerlink&#34; title=&#34;2. 使用ftp.mydomian.com域名访问服务器；&#34;&gt;&lt;/a&gt;2. 使用ftp.mydomian.com域名访问服务器；&lt;/h3&gt;&lt;h3 id=&#34;3-用户webadmin，登录ftp服务器，根目录为-webdata-；&#34;&gt;&lt;a href=&#34;#3-用户webadmin，登录ftp服务器，根目录为-webdata-；&#34; class=&#34;headerlink&#34; title=&#34;3. 用户webadmin，登录ftp服务器，根目录为&amp;#x2F;webdata&amp;#x2F;；&#34;&gt;&lt;/a&gt;3. 用户webadmin，登录ftp服务器，根目录为&amp;#x2F;webdata&amp;#x2F;；&lt;/h3&gt;&lt;h3 id=&#34;4-登录后限制在自己的根目录；&#34;&gt;&lt;a href=&#34;#4-登录后限制在自己的根目录；&#34; class=&#34;headerlink&#34; title=&#34;4. 登录后限制在自己的根目录；&#34;&gt;&lt;/a&gt;4. 登录后限制在自己的根目录；&lt;/h3&gt;&lt;h3 id=&#34;5-允许WEB管理员上传和下载文件，但是禁止上传后缀名为-doc-docx-xlsx的文件；&#34;&gt;&lt;a href=&#34;#5-允许WEB管理员上传和下载文件，但是禁止上传后缀名为-doc-docx-xlsx的文件；&#34; class=&#34;headerlink&#34; title=&#34;5. 允许WEB管理员上传和下载文件，但是禁止上传后缀名为.doc .docx .xlsx的文件；&#34;&gt;&lt;/a&gt;5. 允许WEB管理员上传和下载文件，但是禁止上传后缀名为.doc .docx .xlsx的文件；&lt;/h3&gt;&lt;h3 id=&#34;6-限制用户的下载最大速度为100kb-s；最大同一IP在线人数为2人；&#34;&gt;&lt;a href=&#34;#6-限制用户的下载最大速度为100kb-s；最大同一IP在线人数为2人；&#34; class=&#34;headerlink&#34; title=&#34;6. 限制用户的下载最大速度为100kb&amp;#x2F;s；最大同一IP在线人数为2人；&#34;&gt;&lt;/a&gt;6. 限制用户的下载最大速度为100kb&amp;#x2F;s；最大同一IP在线人数为2人；&lt;/h3&gt;&lt;h3 id=&#34;7-用于通过工具或者浏览器下载的最大速度不超过100kb-s；&#34;&gt;&lt;a href=&#34;#7-用于通过工具或者浏览器下载的最大速度不超过100kb-s；&#34; class=&#34;headerlink&#34; title=&#34;7.用于通过工具或者浏览器下载的最大速度不超过100kb&amp;#x2F;s；&#34;&gt;&lt;/a&gt;7.用于通过工具或者浏览器下载的最大速度不超过100kb&amp;#x2F;s；&lt;/h3&gt;&lt;h3 id=&#34;8-一个IP地址同时登陆的用户进程-人数不超过2人。&#34;&gt;&lt;a href=&#34;#8-一个IP地址同时登陆的用户进程-人数不超过2人。&#34; class=&#34;headerlink&#34; title=&#34;8. 一个IP地址同时登陆的用户进程&amp;#x2F;人数不超过2人。&#34;&gt;&lt;/a&gt;8. 一个IP地址同时登陆的用户进程&amp;#x2F;人数不超过2人。&lt;/h3&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;一、配置Ftp服务器（Ftp-Server）的IP地址&#34;&gt;&lt;a href=&#34;#一、配置Ftp服务器（Ftp-Server）的IP地址&#34; class=&#34;headerlink&#34; title=&#34;一、配置Ftp服务器（Ftp Server）的IP地址&#34;&gt;&lt;/a&gt;一、配置Ftp服务器（Ftp Server）的IP地址&lt;/h2&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=static&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=192.168.1.100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=192.168.1.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=192.168.1.10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS2=202.96.128.86&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b3c12c42b1a1943313648.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b3c12c42b1a1943313648.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、-为Ftp服务器（Ftp-Server）安装vsftp服务&#34;&gt;&lt;a href=&#34;#二、-为Ftp服务器（Ftp-Server）安装vsftp服务&#34; class=&#34;headerlink&#34; title=&#34;二、 为Ftp服务器（Ftp Server）安装vsftp服务&#34;&gt;&lt;/a&gt;二、 为Ftp服务器（Ftp Server）安装vsftp服务&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum -y install vsftpd	&lt;span class=&#34;comment&#34;&gt;//安装vsftp服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl start vsftpd	&lt;span class=&#34;comment&#34;&gt;//开启vsftp服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable vsftpd	&lt;span class=&#34;comment&#34;&gt;//开机自启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/da457df601a02990e21fc.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/da457df601a02990e21fc.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、Ftp服务器（Ftp-Server）生成证书&#34;&gt;&lt;a href=&#34;#三、Ftp服务器（Ftp-Server）生成证书&#34; class=&#34;headerlink&#34; title=&#34;三、Ftp服务器（Ftp Server）生成证书&#34;&gt;&lt;/a&gt;三、Ftp服务器（Ftp Server）生成证书&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;创建目录[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# mkdir /etc/ssl/serverkey&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;生成证书[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# openssl req -x509 -nodes -keyout /etc/ssl/serverkey/vsftpd.pem -out /etc/ssl/serverkey/vsftpd.pem -days &lt;span class=&#34;number&#34;&gt;365&lt;/span&gt; -newkey rsa:&lt;span class=&#34;number&#34;&gt;2048&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Generating a &lt;span class=&#34;number&#34;&gt;2048&lt;/span&gt; bit RSA &lt;span class=&#34;keyword&#34;&gt;private&lt;/span&gt; key&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;................+++&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.....+++&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;writing &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;private&lt;/span&gt; key to &lt;span class=&#34;string&#34;&gt;&amp;#x27;/etc/ssl/serverkey/vsftpd.pem&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-----&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;You are about to be asked to enter information that will be incorporated&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;into your certificate request.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;What you are about to enter is what is called a Distinguished Name or a DN.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;There are quite a few fields but you can leave some blank&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;For some fields there will be a &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; value,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;If you enter &lt;span class=&#34;string&#34;&gt;&amp;#x27;.&amp;#x27;&lt;/span&gt;, the field will be left blank.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-----&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Country &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; letter code)&lt;/span&gt; [CN]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;State or Province &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(full name)&lt;/span&gt; [China]:GD&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Locality &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, city)&lt;/span&gt; [GuangZhou]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Organization &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, company)&lt;/span&gt; [ymx.com]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Organizational Unit &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, section)&lt;/span&gt; []:Operations Departments&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Common &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, your name or your server&lt;span class=&#34;string&#34;&gt;&amp;#x27;s hostname) []:ftp.ymx.com&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;Email Address []:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;[root@webserver webserver]#&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;图片打反了 别按照图片 按上面的文本&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/173428ff934d91c26fc94.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/173428ff934d91c26fc94.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;四、-Ftp服务器（Ftp-Server）防火墙设置&#34;&gt;&lt;a href=&#34;#四、-Ftp服务器（Ftp-Server）防火墙设置&#34; class=&#34;headerlink&#34; title=&#34;四、 Ftp服务器（Ftp Server）防火墙设置&#34;&gt;&lt;/a&gt;四、 Ftp服务器（Ftp Server）防火墙设置&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;允许ftp通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-service=ftp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;990&lt;/span&gt;/tcp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;990&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;40000&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;50000&lt;/span&gt;/tcp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;40000&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;50000&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;重启防火墙[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --reload &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cb7bc5a7b1bc7e530010d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cb7bc5a7b1bc7e530010d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;五、-Ftp服务器（Ftp-Server）配置vsftp文件&#34;&gt;&lt;a href=&#34;#五、-Ftp服务器（Ftp-Server）配置vsftp文件&#34; class=&#34;headerlink&#34; title=&#34;五、 Ftp服务器（Ftp Server）配置vsftp文件&#34;&gt;&lt;/a&gt;五、 Ftp服务器（Ftp Server）配置vsftp文件&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/vsftpd/vsftpd.conf&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后插入&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;ssl_enable=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ssl_tlsv1=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ssl_sslv2=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ssl_sslv3=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;rsa_private_key_file=/etc/ssl/serverkey/vsftpd.pem&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;rsa_cert_file=/etc/ssl/serverkey/vsftpd.pem&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;allow_anon_ssl=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;force_local_logins_ssl=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;force_local_data_ssl=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pasv_min_port=40000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pasv_max_port=50000&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart vsftpd	&lt;span class=&#34;comment&#34;&gt;//重启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;图片打错了请按照上面文本打&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/7ffae0727a56d9d65892a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/7ffae0727a56d9d65892a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9b2f1e351d05e8dcd8e28.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9b2f1e351d05e8dcd8e28.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节-这里不做过多解释）&#34;&gt;&lt;a href=&#34;#六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节-这里不做过多解释）&#34; class=&#34;headerlink&#34; title=&#34;六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节 这里不做过多解释）&#34;&gt;&lt;/a&gt;六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节 这里不做过多解释）&lt;/h2&gt;&lt;p&gt;看不懂去看ppt&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# useradd webadmin -s /sbin/nologin &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# useradd admin -s /sbin/nologin  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# passwd --stdin webadmin &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;更改用户 webadmin 的密码 。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;passwd：所有的身份验证令牌已经成功更新。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# passwd --stdin admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;更改用户 admin 的密码 。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;passwd：所有的身份验证令牌已经成功更新。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vusr.txt &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;webadmin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# mkdir -p /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/ftp/pub/ /webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# chmod &lt;span class=&#34;number&#34;&gt;777&lt;/span&gt; /webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# chown webadmin /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/ftp/pub/ /webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# rpm -qf /usr/bin/db_load&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libdb-utils-&lt;span class=&#34;number&#34;&gt;5.3&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.21&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;24.&lt;/span&gt;el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# db_load -T -t hash -f /etc/vsftpd/vusr.txt /etc/vsftpd/vusr.db&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# file /etc/vsftpd/vusr.db&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/etc/vsftpd/vusr.db: Berkeley &lt;span class=&#34;title function_&#34;&gt;DB&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(Hash, version &lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;native&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;byte&lt;/span&gt;-order)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# chmod &lt;span class=&#34;number&#34;&gt;600&lt;/span&gt; /etc/vsftpd/vusr.*&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# cp -p /etc/pam.d/vsftpd /etc/pam.d/vsftpd-vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/pam.d/vsftpd-vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;auth       sufficient   /lib64/security/pam_userdb.so db=/etc/vsftpd/vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;account    sufficient   /lib64/security/pam_userdb.so db=/etc/vsftpd/vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vsftpd.conf &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_enable=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;chroot_local_user=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pam_service_name=vsftpd-vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;guest_enable=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;guest_username=webadmin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;user_config_dir=/etc/vsftpd/vconfig&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;virtual_use_local_privs=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;allow_writeable_chroot=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# mkdir /etc/vsftpd/vconfig/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vconfig/webadmin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_root=/webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vconfig/admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_root=/webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;write_enable=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# setsebool -P ftpd_full_access on&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# systemctl restart vsftpd&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;七、-使用域名登录要在Dns服务器（Dns-Server）上正反向加上一条（略过）&#34;&gt;&lt;a href=&#34;#七、-使用域名登录要在Dns服务器（Dns-Server）上正反向加上一条（略过）&#34; class=&#34;headerlink&#34; title=&#34;七、 使用域名登录要在Dns服务器（Dns Server）上正反向加上一条（略过）&#34;&gt;&lt;/a&gt;七、 使用域名登录要在Dns服务器（Dns Server）上正反向加上一条（略过）&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/204c48d07d06906775de2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/204c48d07d06906775de2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;八、任务需求后四项Ftp服务器（Ftp-Server）上修改配置文件&#34;&gt;&lt;a href=&#34;#八、任务需求后四项Ftp服务器（Ftp-Server）上修改配置文件&#34; class=&#34;headerlink&#34; title=&#34;八、任务需求后四项Ftp服务器（Ftp Server）上修改配置文件&#34;&gt;&lt;/a&gt;八、任务需求后四项Ftp服务器（Ftp Server）上修改配置文件&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/vsftpd/vsftpd.conf&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;#允许WEB管理员上传和下载文件，但是禁止上传后缀名为.doc .docx .xlsx的文件；&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;deny_file=&amp;#123;*.doc,*.docx,*.xlsx&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#限制用户的下载最大速度为100kb/s；用于通过工具或者浏览器下载的最大速度不超过100kb/s；人数为&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;人；&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_max_rate=&lt;span class=&#34;number&#34;&gt;102400&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#最大同一IP在线&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;max_per_ip=&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#一个IP地址同时登陆的用户进程/人数不超过&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;人。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;max_clients=&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart vsftpd&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;九、客户端（client1）测试&#34;&gt;&lt;a href=&#34;#九、客户端（client1）测试&#34; class=&#34;headerlink&#34; title=&#34;九、客户端（client1）测试&#34;&gt;&lt;/a&gt;九、客户端（client1）测试&lt;/h2&gt;&lt;h3 id=&#34;1-安装ftp服务和FileZilla&#34;&gt;&lt;a href=&#34;#1-安装ftp服务和FileZilla&#34; class=&#34;headerlink&#34; title=&#34;1. 安装ftp服务和FileZilla&#34;&gt;&lt;/a&gt;1. 安装ftp服务和FileZilla&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum -y install epel-release&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install filezilla&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/fa01511cce2858dc00271.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/fa01511cce2858dc00271.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-创建测试文件&#34;&gt;&lt;a href=&#34;#2-创建测试文件&#34; class=&#34;headerlink&#34; title=&#34;2. 创建测试文件&#34;&gt;&lt;/a&gt;2. 创建测试文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; server]# mkdir /home/server/test &lt;span class=&#34;comment&#34;&gt;/*server是我的用户名，看情况来*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; server]# chmod &lt;span class=&#34;number&#34;&gt;777&lt;/span&gt;  /home/server/test&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; server]# cd /home/server/test/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.doc&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.docx&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.xlsx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;3-尝试域名带证书CA登录ftp&#34;&gt;&lt;a href=&#34;#3-尝试域名带证书CA登录ftp&#34; class=&#34;headerlink&#34; title=&#34;3. 尝试域名带证书CA登录ftp&#34;&gt;&lt;/a&gt;3. 尝试域名带证书CA登录ftp&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cbc7ba60aae41fa13abc7.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cbc7ba60aae41fa13abc7.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9fefc4d3e02513f54f15f.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9fefc4d3e02513f54f15f.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/45c7673c5fb3db94c02c4.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/45c7673c5fb3db94c02c4.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;登录成功！&lt;/p&gt;
&lt;h3 id=&#34;4-尝试禁止上传文件类型上传&#34;&gt;&lt;a href=&#34;#4-尝试禁止上传文件类型上传&#34; class=&#34;headerlink&#34; title=&#34;4.  尝试禁止上传文件类型上传&#34;&gt;&lt;/a&gt;4.  尝试禁止上传文件类型上传&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1c3ebb110203217f2412e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1c3ebb110203217f2412e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;上传失败！&lt;/p&gt;
&lt;h3 id=&#34;5-尝试下载文件&#34;&gt;&lt;a href=&#34;#5-尝试下载文件&#34; class=&#34;headerlink&#34; title=&#34;5. 尝试下载文件&#34;&gt;&lt;/a&gt;5. 尝试下载文件&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9583e247ad1aa7c6720bc.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9583e247ad1aa7c6720bc.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;成功！&lt;/p&gt;
&lt;h3 id=&#34;6-单IP多用户登录&#34;&gt;&lt;a href=&#34;#6-单IP多用户登录&#34; class=&#34;headerlink&#34; title=&#34;6. 单IP多用户登录&#34;&gt;&lt;/a&gt;6. 单IP多用户登录&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/6257891a3377c2add1e27.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/6257891a3377c2add1e27.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;最多只能2个不能再多了！&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt;</content>
        <category term="服务器" />
        <category term="Linux" />
        <category term="CentOS" />
        <category term="网络" />
        <category term="FTP" />
        <updated>2024-05-28T05:31:51.000Z</updated>
    </entry>
    <entry>
        <id>https://yeminxi.github.io/posts/974b3ed7.html</id>
        <title>第五章 Centos 7 Linux配置dns 实训任务：部署DNS服务器</title>
        <link rel="alternate" href="https://yeminxi.github.io/posts/974b3ed7.html"/>
        <content type="html">&lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;虚拟机需求：1台服务器（Server）、1台客户端（Client1）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第四章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;部署DNS服务器&#34;&gt;&lt;a href=&#34;#部署DNS服务器&#34; class=&#34;headerlink&#34; title=&#34;部署DNS服务器&#34;&gt;&lt;/a&gt;部署DNS服务器&lt;/h2&gt;&lt;blockquote&gt;
&lt;h3 id=&#34;任务情境描述&#34;&gt;&lt;a href=&#34;#任务情境描述&#34; class=&#34;headerlink&#34; title=&#34;任务情境描述&#34;&gt;&lt;/a&gt;任务情境描述&lt;/h3&gt;&lt;p&gt;某公司要求在内部网络部署DNS服务器，用内部DNS服务器为内部网络中的计算机提供内部网络和Internet的域名解析服务。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;网络拓扑图如下：&#34;&gt;&lt;a href=&#34;#网络拓扑图如下：&#34; class=&#34;headerlink&#34; title=&#34;网络拓扑图如下：&#34;&gt;&lt;/a&gt;网络拓扑图如下：&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9a3bf5e11c452db3f7c9d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9a3bf5e11c452db3f7c9d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;环境说明：&#34;&gt;&lt;a href=&#34;#环境说明：&#34; class=&#34;headerlink&#34; title=&#34;环境说明：&#34;&gt;&lt;/a&gt;环境说明：&lt;/h3&gt;&lt;p&gt;（1） server安装CentOS 7基础设施服务器&lt;/p&gt;
&lt;p&gt;（2） client安装CentOS 7桌面环境&lt;/p&gt;
&lt;p&gt;（3） server、client均已配置网络和主机名（配置了第四章就不用配置了）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;部署信息如下：&#34;&gt;&lt;a href=&#34;#部署信息如下：&#34; class=&#34;headerlink&#34; title=&#34;部署信息如下：&#34;&gt;&lt;/a&gt;部署信息如下：&lt;/h3&gt;&lt;p&gt;（1） 公司的DNS域名为 ymx.com（或自己命名）&amp;#x2F;&amp;#x2F;这里我用了自己的，用老师的是myhost.com下面表格也要跟着改&lt;/p&gt;
&lt;p&gt;（2） 名称解释要求如下表所示：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;角色&lt;/th&gt;
&lt;th&gt;主机名&lt;/th&gt;
&lt;th&gt;IP地址&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;Web服务器&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;http://www.ymx.com/&#34;&gt;www.ymx.com&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;192.168.1.100&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FTP服务器&lt;/td&gt;
&lt;td&gt;ftp.ymx.com&lt;/td&gt;
&lt;td&gt;192.168.1.100&lt;/td&gt;
&lt;td&gt;配置别名记录&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;邮件服务器&lt;/td&gt;
&lt;td&gt;mail.ymx.com&lt;/td&gt;
&lt;td&gt;192.168.1.200&lt;/td&gt;
&lt;td&gt;配置相应的交换记录&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DNS服务器&lt;/td&gt;
&lt;td&gt;dns.ymx.com&lt;/td&gt;
&lt;td&gt;192.168.1.10&lt;/td&gt;
&lt;td&gt;DNS服务器&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务1（用前面的就不用重新配置了）&#34;&gt;&lt;a href=&#34;#任务1（用前面的就不用重新配置了）&#34; class=&#34;headerlink&#34; title=&#34;任务1（用前面的就不用重新配置了）&#34;&gt;&lt;/a&gt;任务1（用前面的就不用重新配置了）&lt;/h3&gt;&lt;p&gt;根据上图中的网络图谱配置实训环境&lt;/p&gt;
&lt;p&gt;（1） 修改计算机名&lt;/p&gt;
&lt;p&gt;（2） 配置网络&lt;/p&gt;
&lt;p&gt;（3）开启防火墙，添加对应的服务&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务2&#34;&gt;&lt;a href=&#34;#任务2&#34; class=&#34;headerlink&#34; title=&#34;任务2&#34;&gt;&lt;/a&gt;任务2&lt;/h3&gt;&lt;p&gt;在server1上安装DNS服务，并将其配置为主DNS服务器&lt;/p&gt;
&lt;p&gt;（1） 安装DNS服务&lt;/p&gt;
&lt;p&gt;（2） 创建正向查找区域，并根据上表提供的信息在区域中添加资源记录；&lt;br&gt;          创建反向查找区域，并根据上表提供的信息在区域中添加资源记录；&lt;/p&gt;
&lt;p&gt;（3） 检查区域数据文件语法错误&lt;/p&gt;
&lt;p&gt;（4） 启动&amp;#x2F;重启DNS服务&lt;/p&gt;
&lt;p&gt;（5） 开启防火墙，添加对应的服务&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务3&#34;&gt;&lt;a href=&#34;#任务3&#34; class=&#34;headerlink&#34; title=&#34;任务3&#34;&gt;&lt;/a&gt;任务3&lt;/h3&gt;&lt;p&gt;使用client对主DNS服务器进行测试&lt;/p&gt;
&lt;p&gt;（1） client网络配置&lt;/p&gt;
&lt;p&gt;（2） 在客户端执行DNS域名查询测试，对主&amp;#x2F;辅DNS均进行域名查询测试（可使用命令指令使用主NDS或服务DNS进行查询）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、在服务器（Server）上安装DNS服务&#34;&gt;&lt;a href=&#34;#一、在服务器（Server）上安装DNS服务&#34; class=&#34;headerlink&#34; title=&#34;一、在服务器（Server）上安装DNS服务&#34;&gt;&lt;/a&gt;一、在服务器（Server）上安装DNS服务&lt;/h2&gt;&lt;h3 id=&#34;1-确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;a href=&#34;#1-确保良好的网络连接也要保证设备的联网&#34; class=&#34;headerlink&#34; title=&#34;1. 确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;/a&gt;1. 确保良好的网络连接也要保证设备的联网&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum list installed | grep bind 				\\查看是否安装了dns服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install bind							\\安装dns服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/5ecdc267b84b5e1eecf9b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/5ecdc267b84b5e1eecf9b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-启动服务&#34;&gt;&lt;a href=&#34;#2-启动服务&#34; class=&#34;headerlink&#34; title=&#34;2. 启动服务&#34;&gt;&lt;/a&gt;2. 启动服务&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl start named		&lt;span class=&#34;comment&#34;&gt;//启动dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable named		&lt;span class=&#34;comment&#34;&gt;//开机自启dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b0450986f32adae814627.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b0450986f32adae814627.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-防火墙配置&#34;&gt;&lt;a href=&#34;#3-防火墙配置&#34; class=&#34;headerlink&#34; title=&#34;3. 防火墙配置&#34;&gt;&lt;/a&gt;3. 防火墙配置&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;/tcp	&lt;span class=&#34;comment&#34;&gt;//开启53端口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --reload										&lt;span class=&#34;comment&#34;&gt;//重启防火墙&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/39be9522b5ad2f238d32f.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/39be9522b5ad2f238d32f.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、在服务器（Server）上配置dns服务&#34;&gt;&lt;a href=&#34;#二、在服务器（Server）上配置dns服务&#34; class=&#34;headerlink&#34; title=&#34;二、在服务器（Server）上配置dns服务&#34;&gt;&lt;/a&gt;二、在服务器（Server）上配置dns服务&lt;/h2&gt;&lt;h3 id=&#34;1-配置全局服务实现高速缓存&#34;&gt;&lt;a href=&#34;#1-配置全局服务实现高速缓存&#34; class=&#34;headerlink&#34; title=&#34;1.配置全局服务实现高速缓存&#34;&gt;&lt;/a&gt;1.配置全局服务实现高速缓存&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/named.conf		&lt;span class=&#34;comment&#34;&gt;//打开配置文件进行如下修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkconf			&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/86b0e18dd3c088a584d48.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/86b0e18dd3c088a584d48.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;listen-on port 53 &amp;#123; any; &amp;#125;;							//改为any，named监听所有IP地址&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;allow-query     &amp;#123; any; &amp;#125;;							//改为any，接受所有客户端的查询&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;forwarders      &amp;#123;202.96.128.86;202.96.128.166;&amp;#125;;	//添加该项，配置转发器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dnssec-enable no;									//改为no，禁用dnssec&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dnssec-validation no;								&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/f8db812aa6e49d4dc1883.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/f8db812aa6e49d4dc1883.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;检查语法发现错误，是因为我第22行打错单词了，重新编辑改回去就不报错了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2-创建定义DNS服务器正向、反向查找区域&#34;&gt;&lt;a href=&#34;#2-创建定义DNS服务器正向、反向查找区域&#34; class=&#34;headerlink&#34; title=&#34;2. 创建定义DNS服务器正向、反向查找区域&#34;&gt;&lt;/a&gt;2. 创建定义DNS服务器正向、反向查找区域&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/named.conf		&lt;span class=&#34;comment&#34;&gt;//打开配置文件进行如下修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkconf			&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/4b50564b4ea5063d89f52.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/4b50564b4ea5063d89f52.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;ymx.com&amp;quot; IN &amp;#123;							//DNS域名&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;ymx.com.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;1.168.192.in-addr.arpa&amp;quot; IN &amp;#123;			//子网地址需要反写，后缀是固定的&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;1.168.192.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;myhost.com&amp;quot; IN &amp;#123;							//DNS域名&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;myhost.com.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;1.168.192.in-addr.arpa&amp;quot; IN &amp;#123;			//子网地址需要反写，后缀是固定的&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;1.168.192.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;3-创建区域数据文件&#34;&gt;&lt;a href=&#34;#3-创建区域数据文件&#34; class=&#34;headerlink&#34; title=&#34;3. 创建区域数据文件&#34;&gt;&lt;/a&gt;3. 创建区域数据文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;cd /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.localhost ymx.com.zone		&lt;span class=&#34;comment&#34;&gt;//创建正向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.loopback &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone		&lt;span class=&#34;comment&#34;&gt;//创建反向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart named					&lt;span class=&#34;comment&#34;&gt;//重启dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;cd /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.localhost myhost.com.zone	&lt;span class=&#34;comment&#34;&gt;//创建正向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.loopback &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone		&lt;span class=&#34;comment&#34;&gt;//创建反向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart named					&lt;span class=&#34;comment&#34;&gt;//重启dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;4-编辑正向区域数据文件&#34;&gt;&lt;a href=&#34;#4-编辑正向区域数据文件&#34; class=&#34;headerlink&#34; title=&#34;4. 编辑正向区域数据文件&#34;&gt;&lt;/a&gt;4. 编辑正向区域数据文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim ymx.com.zone										&lt;span class=&#34;comment&#34;&gt;//编辑正向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone ymx.com.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/ymx.com.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/2c79ad9474f20745df0c5.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/2c79ad9474f20745df0c5.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  dns ymx.com. (									//区域授权服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      dns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dns     A       192.168.1.10									//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;www     A       192.168.1.100									//主机记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    A       192.168.1.200&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ftp     CNAME   www												//别名记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    MX 10   mail											//邮箱交换器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim myhost.com.zone											&lt;span class=&#34;comment&#34;&gt;//编辑正向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone myhost.com.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/myhost.com.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  server myhost.com. (									//区域授权服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server  A       192.168.1.10									//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;www     A       192.168.1.100									//主机记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    A       192.168.1.200&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ftp     CNAME   www												//别名记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    MX 10   mail											//邮箱交换器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/d959c88b2a0ba4d313c6d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/d959c88b2a0ba4d313c6d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;5-编辑反向区域数据文件&#34;&gt;&lt;a href=&#34;#5-编辑反向区域数据文件&#34; class=&#34;headerlink&#34; title=&#34;5. 编辑反向区域数据文件&#34;&gt;&lt;/a&gt;5. 编辑反向区域数据文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone 											&lt;span class=&#34;comment&#34;&gt;//编辑反向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0e74a1c1bf31a363b73fc.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0e74a1c1bf31a363b73fc.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  dns ymx.com. (								//区域授权的DNS服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      dns											//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dns     A       192.168.1.10								//指针记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10      PTR     dns.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     www.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     ftp.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;200     PTR     mail.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/85bd8de0c3edd41d5bf9c.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/85bd8de0c3edd41d5bf9c.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone 											&lt;span class=&#34;comment&#34;&gt;//编辑反向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  server myhost.com. (							//区域授权的DNS服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      server											//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server  A       192.168.1.10									//指针记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10      PTR     server.myhost.com.						&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     www.myhost.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     ftp.myhost.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;200     PTR     mail.myhost.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;若语法检查无错误&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/224df854a0c755daf9fd2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/224df854a0c755daf9fd2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart named		&lt;span class=&#34;comment&#34;&gt;//重启dns服务，且无返回信息则成功&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/97139188680461f22a0fb.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/97139188680461f22a0fb.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、在客户端（Client1）上进行测试&#34;&gt;&lt;a href=&#34;#三、在客户端（Client1）上进行测试&#34; class=&#34;headerlink&#34; title=&#34;三、在客户端（Client1）上进行测试&#34;&gt;&lt;/a&gt;三、在客户端（Client1）上进行测试&lt;/h2&gt;&lt;h3 id=&#34;1-重新获取&#34;&gt;&lt;a href=&#34;#1-重新获取&#34; class=&#34;headerlink&#34; title=&#34;1. 重新获取&#34;&gt;&lt;/a&gt;1. 重新获取&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;dhclient -r						&lt;span class=&#34;comment&#34;&gt;//释放租约&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dhclient						&lt;span class=&#34;comment&#34;&gt;//重新获取租约&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tail /etc/resolv.conf			&lt;span class=&#34;comment&#34;&gt;//查看客户端使用的DNS服务器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/c58f7e03dfb8e3bc9fabd.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/c58f7e03dfb8e3bc9fabd.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-nslookup非交互式操作&#34;&gt;&lt;a href=&#34;#2-nslookup非交互式操作&#34; class=&#34;headerlink&#34; title=&#34;2. nslookup非交互式操作&#34;&gt;&lt;/a&gt;2. nslookup非交互式操作&lt;/h3&gt;&lt;h4 id=&#34;2-1-测试正向解析&#34;&gt;&lt;a href=&#34;#2-1-测试正向解析&#34; class=&#34;headerlink&#34; title=&#34;2.1 测试正向解析&#34;&gt;&lt;/a&gt;2.1 测试正向解析&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nslookup www.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup ftp.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup mail.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup www.baidu.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/bc4dce8064bee257697bd.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/bc4dce8064bee257697bd.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;2-2-测试反向解析&#34;&gt;&lt;a href=&#34;#2-2-测试反向解析&#34; class=&#34;headerlink&#34; title=&#34;2.2 测试反向解析&#34;&gt;&lt;/a&gt;2.2 测试反向解析&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;202.108&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.22&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.200&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/bedfef08fa7af8e7af35e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/bedfef08fa7af8e7af35e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-nslookup交互式操作（知道就好不用做）&#34;&gt;&lt;a href=&#34;#3-nslookup交互式操作（知道就好不用做）&#34; class=&#34;headerlink&#34; title=&#34;3. nslookup交互式操作（知道就好不用做）&#34;&gt;&lt;/a&gt;3. nslookup交互式操作（知道就好不用做）&lt;/h3&gt;&lt;h4 id=&#34;3-1-查看所有配置&#34;&gt;&lt;a href=&#34;#3-1-查看所有配置&#34; class=&#34;headerlink&#34; title=&#34;3.1 查看所有配置&#34;&gt;&lt;/a&gt;3.1 查看所有配置&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nslookup&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;set all&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0d52dfe4f10aa0e388467.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0d52dfe4f10aa0e388467.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-2-查询主机名www-ymx-com&#34;&gt;&lt;a href=&#34;#3-2-查询主机名www-ymx-com&#34; class=&#34;headerlink&#34; title=&#34;3.2 查询主机名www.ymx.com&#34;&gt;&lt;/a&gt;3.2 查询主机名&lt;a href=&#34;http://www.ymx.com/&#34;&gt;www.ymx.com&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;www.ymx.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/3db5d9ca1f855e5b61f8b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/3db5d9ca1f855e5b61f8b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-3-查询ymx-com区域授权记录&#34;&gt;&lt;a href=&#34;#3-3-查询ymx-com区域授权记录&#34; class=&#34;headerlink&#34; title=&#34;3.3 查询ymx.com区域授权记录&#34;&gt;&lt;/a&gt;3.3 查询ymx.com区域授权记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;set type=soa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ymx.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b4b78740bc024a8a81610.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b4b78740bc024a8a81610.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-4-查询1-168-192-in-addr-arpa区域授权记录&#34;&gt;&lt;a href=&#34;#3-4-查询1-168-192-in-addr-arpa区域授权记录&#34; class=&#34;headerlink&#34; title=&#34;3.4 查询1.168.192.in-addr.arpa区域授权记录&#34;&gt;&lt;/a&gt;3.4 查询1.168.192.in-addr.arpa区域授权记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.in-addr.arpa&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cde1584ef3d609a9520df.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cde1584ef3d609a9520df.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-5-查询邮箱交换器记录&#34;&gt;&lt;a href=&#34;#3-5-查询邮箱交换器记录&#34; class=&#34;headerlink&#34; title=&#34;3.5 查询邮箱交换器记录&#34;&gt;&lt;/a&gt;3.5 查询邮箱交换器记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;set type=mx&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ymx.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/663745b9f94e4326cad32.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/663745b9f94e4326cad32.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-6-查询名称服务器记录&#34;&gt;&lt;a href=&#34;#3-6-查询名称服务器记录&#34; class=&#34;headerlink&#34; title=&#34;3.6 查询名称服务器记录&#34;&gt;&lt;/a&gt;3.6 查询名称服务器记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;set type=ns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.in-addr.arpa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;exit							&lt;span class=&#34;comment&#34;&gt;//退出&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/04bad564727027d52486b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/04bad564727027d52486b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt;</content>
        <category term="服务器" />
        <category term="运维" />
        <category term="Linux" />
        <category term="CentOS" />
        <category term="网络" />
        <category term="DNS" />
        <updated>2024-05-28T04:32:51.000Z</updated>
    </entry>
    <entry>
        <id>https://yeminxi.github.io/posts/cfebefbe.html</id>
        <title>第三章 Centos 7 Linux配置samba 实训任务1：配置Samba服务</title>
        <link rel="alternate" href="https://yeminxi.github.io/posts/cfebefbe.html"/>
        <content type="html">&lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;虚拟机需求：1台服务器（Server）、1台客户端（Client）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第二章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;实训任务1：配置Samba服务&#34;&gt;&lt;a href=&#34;#实训任务1：配置Samba服务&#34; class=&#34;headerlink&#34; title=&#34;实训任务1：配置Samba服务&#34;&gt;&lt;/a&gt;实训任务1：配置Samba服务&lt;/h2&gt;&lt;blockquote&gt;
&lt;h3 id=&#34;任务1-创建Samba共享，本地目录为-data-share，要求：&#34;&gt;&lt;a href=&#34;#任务1-创建Samba共享，本地目录为-data-share，要求：&#34; class=&#34;headerlink&#34; title=&#34;任务1 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;share，要求：&#34;&gt;&lt;/a&gt;任务1 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;share，要求：&lt;/h3&gt;&lt;p&gt;共享名为share1&lt;br&gt;仅允许zsuser用户能上传文件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务2-创建Samba共享，本地目录为-data-public，要求：&#34;&gt;&lt;a href=&#34;#任务2-创建Samba共享，本地目录为-data-public，要求：&#34; class=&#34;headerlink&#34; title=&#34;任务2 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;public，要求：&#34;&gt;&lt;/a&gt;任务2 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;public，要求：&lt;/h3&gt;&lt;p&gt;共享名为public&lt;/p&gt;
&lt;p&gt;允许匿名访问&lt;/p&gt;
&lt;p&gt;所有用户都能上传文件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、在服务器（Server）上安装Samba服务&#34;&gt;&lt;a href=&#34;#一、在服务器（Server）上安装Samba服务&#34; class=&#34;headerlink&#34; title=&#34;一、在服务器（Server）上安装Samba服务&#34;&gt;&lt;/a&gt;一、在服务器（Server）上安装Samba服务&lt;/h2&gt;&lt;h3 id=&#34;1-确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;a href=&#34;#1-确保良好的网络连接也要保证设备的联网&#34; class=&#34;headerlink&#34; title=&#34;1. 确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;/a&gt;1. 确保良好的网络连接也要保证设备的联网&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum list installed | grep samba 				\\查看是否安装了samba服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install samba							\\安装samba服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/8703f6d6f03de11ce6cd0.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/8703f6d6f03de11ce6cd0.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-防火墙设置&#34;&gt;&lt;a href=&#34;#2-防火墙设置&#34; class=&#34;headerlink&#34; title=&#34;2. 防火墙设置&#34;&gt;&lt;/a&gt;2. 防火墙设置&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-service=samba		\\开启samba服务 允许通过&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --reload											\\重启防火墙&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1542ac9641fa09b4280d1.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1542ac9641fa09b4280d1.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-开启samba服务&#34;&gt;&lt;a href=&#34;#3-开启samba服务&#34; class=&#34;headerlink&#34; title=&#34;3. 开启samba服务&#34;&gt;&lt;/a&gt;3. 开启samba服务&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl start smb nmb					\\开启samba服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable smb nmb				\\开机自启samba服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0b672eb5283341ecba40d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0b672eb5283341ecba40d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-创建samba用户&#34;&gt;&lt;a href=&#34;#4-创建samba用户&#34; class=&#34;headerlink&#34; title=&#34;4. 创建samba用户&#34;&gt;&lt;/a&gt;4. 创建samba用户&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;useradd zsuser				\\添加zsuser用户&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;smbpasswd -a zsuser			\\为zsuser用户添加密码&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;useradd tom					\\添加多一个用户好测试&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;smbpasswd -a tom			\\设置密码&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1eea16dcab85fe84a94aa.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1eea16dcab85fe84a94aa.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、在服务器（Server）上创建samba共享目录&#34;&gt;&lt;a href=&#34;#二、在服务器（Server）上创建samba共享目录&#34; class=&#34;headerlink&#34; title=&#34;二、在服务器（Server）上创建samba共享目录&#34;&gt;&lt;/a&gt;二、在服务器（Server）上创建samba共享目录&lt;/h2&gt;&lt;h3 id=&#34;1-创建share、public目录&#34;&gt;&lt;a href=&#34;#1-创建share、public目录&#34; class=&#34;headerlink&#34; title=&#34;1. 创建share、public目录&#34;&gt;&lt;/a&gt;1. 创建share、public目录&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;mkdir /data /data/share/ /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;/				\\创建share、&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;chmod &lt;span class=&#34;number&#34;&gt;777&lt;/span&gt; /data /data/share/ /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;/			\\设置目录权限&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/ae1a02daba7ce86ac7934.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/ae1a02daba7ce86ac7934.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-创建share1、public共享目录&#34;&gt;&lt;a href=&#34;#2-创建share1、public共享目录&#34; class=&#34;headerlink&#34; title=&#34;2. 创建share1、public共享目录&#34;&gt;&lt;/a&gt;2. 创建share1、public共享目录&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/samba/smb.conf				\\编辑配置文件详细内容如下所示&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[global]					\\在全局变量中加入&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;map &lt;span class=&#34;type&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;guest&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; bad user		\\开启匿名访问&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[share1]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        comment = share1	\\共享注释&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        path = /data/share	\\指定共享目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;type&#34;&gt;write&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;list&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; zsuser	\\写入列表&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        writable = no		\\不支持写入数据（列表中写读，不在列表只读）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        comment = &lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;	\\共享注释&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        path = /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;	\\指定共享目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;type&#34;&gt;guest&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; yes		\\允许匿名访问&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        browseable = yes	\\所有人可见&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        writeable = yes		\\支持写入数据&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;type&#34;&gt;read&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;only&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; no		\\是否可读&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/2f5eb2de14ebbab215b92.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/2f5eb2de14ebbab215b92.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-检查语法错误跟重启samba服务&#34;&gt;&lt;a href=&#34;#3-检查语法错误跟重启samba服务&#34; class=&#34;headerlink&#34; title=&#34;3. 检查语法错误跟重启samba服务&#34;&gt;&lt;/a&gt;3. 检查语法错误跟重启samba服务&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;testparm							\\检查语法错误&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart sbm nmb			\\重启samba服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/89a4b66e91f45918dd916.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/89a4b66e91f45918dd916.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-配置selinux&#34;&gt;&lt;a href=&#34;#4-配置selinux&#34; class=&#34;headerlink&#34; title=&#34;4. 配置selinux&#34;&gt;&lt;/a&gt;4. 配置selinux&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;setenforce &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;											&lt;span class=&#34;comment&#34;&gt;//开启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ls -ldZ /data/share /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;						&lt;span class=&#34;comment&#34;&gt;//查看文件夹安全上下文&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;chcon -t samba_share_t /data/share /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;			&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//为/data/share设置samba_share_t标签目录，使selinux允许samba读和写这个目录。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//为/data/public设置samba_share_t标签目录，使selinux允许samba读和写这个目录。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ls -ldZ /data/share /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;						&lt;span class=&#34;comment&#34;&gt;//查看文件夹安全上下文&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/bfe396cae2869d5149a97.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/bfe396cae2869d5149a97.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、在客户机（Client）上测试&#34;&gt;&lt;a href=&#34;#三、在客户机（Client）上测试&#34; class=&#34;headerlink&#34; title=&#34;三、在客户机（Client）上测试&#34;&gt;&lt;/a&gt;三、在客户机（Client）上测试&lt;/h2&gt;&lt;h3 id=&#34;1-测试-任务1&#34;&gt;&lt;a href=&#34;#1-测试-任务1&#34; class=&#34;headerlink&#34; title=&#34;1. 测试 任务1&#34;&gt;&lt;/a&gt;1. 测试 任务1&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;smbclient &amp;#x2F;&amp;#x2F;192.168.1.10&amp;#x2F;share1 -U zsuser				&amp;#x3D;&amp;#x3D;使用zsuser用户访问samba服务&amp;#x3D;&amp;#x3D;&lt;br&gt;mkdir test 																&amp;#x3D;&amp;#x3D;测试是否能创建test文件夹&amp;#x3D;&amp;#x3D;&lt;br&gt;ls 																				&amp;#x3D;&amp;#x3D;查看列表 显示test文件夹 证明成功&amp;#x3D;&amp;#x3D;&lt;br&gt;exit 																			&amp;#x3D;&amp;#x3D;退出&amp;#x3D;&amp;#x3D;	&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;smbclient&amp;#x2F;&amp;#x2F;192.168.1.10&amp;#x2F;share1 -U tom 					&amp;#x3D;&amp;#x3D;使用tom用户访问samba服务&amp;#x3D;&amp;#x3D;&lt;br&gt;mkdir test1 																&amp;#x3D;&amp;#x3D;测试是否能创建test1文件夹&amp;#x3D;&amp;#x3D;&lt;br&gt;ls 																				&amp;#x3D;&amp;#x3D;查看列表 不显示test1文件夹 证明除了zsuser用户能写入其余用户不能写入只能读&amp;#x3D;&amp;#x3D;&lt;br&gt;exit																			&amp;#x3D;&amp;#x3D;退出&amp;#x3D;&amp;#x3D;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/5d43a1d78cd30590d6e82.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/5d43a1d78cd30590d6e82.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-测试-任务2&#34;&gt;&lt;a href=&#34;#2-测试-任务2&#34; class=&#34;headerlink&#34; title=&#34;2. 测试 任务2&#34;&gt;&lt;/a&gt;2. 测试 任务2&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;smbclient&amp;#x2F;&amp;#x2F;192.168.1.10&amp;#x2F;share1 -U guest					&amp;#x3D;&amp;#x3D;使用匿名用户访问samba服务&amp;#x3D;&amp;#x3D;&lt;br&gt;mkdir test1 																&amp;#x3D;&amp;#x3D;测试是否能创建test1文件夹&amp;#x3D;&amp;#x3D;&lt;br&gt;ls 																				&amp;#x3D;&amp;#x3D;查看列表 显示test1文件夹 证明所有用户都能读写&amp;#x3D;&amp;#x3D;&lt;br&gt;exit																			&amp;#x3D;&amp;#x3D;退出&amp;#x3D;&amp;#x3D;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/7af823ce5f86eecd47f75.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/7af823ce5f86eecd47f75.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-windows-7-测试&#34;&gt;&lt;a href=&#34;#3-windows-7-测试&#34; class=&#34;headerlink&#34; title=&#34;3. windows 7 测试&#34;&gt;&lt;/a&gt;3. windows 7 测试&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cde9ec53b36cd2bd6147f.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cde9ec53b36cd2bd6147f.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt;</content>
        <category term="服务器" />
        <category term="运维" />
        <category term="Linux" />
        <category term="CentOS" />
        <category term="网络" />
        <category term="Samba" />
        <updated>2024-05-28T03:48:51.000Z</updated>
    </entry>
</feed>

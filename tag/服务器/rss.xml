<?xml version="1.0"?>
<rss version="2.0">
    <channel>
        <title>叶泯希·杂七杂八的🐕窝 • Posts by &#34;服务器&#34; tag</title>
        <link>https://yeminxi.github.io</link>
        <description>叶泯希的个人博客,yeminxiblog</description>
        <language>zh-CN</language>
        <pubDate>Tue, 28 May 2024 05:51:51 +0000</pubDate>
        <lastBuildDate>Tue, 28 May 2024 05:51:51 +0000</lastBuildDate>
        <category>语法</category>
        <category>文档</category>
        <category>海</category>
        <category>乱拍</category>
        <category>交通</category>
        <category>晚上</category>
        <category>数据库</category>
        <category>开发语言</category>
        <category>MySql</category>
        <category>PHP</category>
        <category>服务器</category>
        <category>运维</category>
        <category>VMware</category>
        <category>Linux</category>
        <category>CentOS</category>
        <category>网络</category>
        <category>FTP</category>
        <category>Samba</category>
        <category>安全</category>
        <category>SSH</category>
        <category>DNS</category>
        <category>mariadb</category>
        <category>Apache</category>
        <category>网络安全</category>
        <category>网络协议</category>
        <category>DHCP</category>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/660d7bf6.html</guid>
            <title>第八章 Centos 7 Linux配置mariadb 实训任务：部署数据库</title>
            <link>https://yeminxi.github.io/posts/660d7bf6.html</link>
            <category>数据库</category>
            <category>服务器</category>
            <category>Linux</category>
            <category>CentOS</category>
            <category>mariadb</category>
            <pubDate>Tue, 28 May 2024 05:51:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;虚拟机需求：1台服务器（Server）192.168.1.10、1台客户端（Client1）192.168.1.100&lt;/p&gt;
&lt;h2 id=&#34;部署数据库&#34;&gt;&lt;a href=&#34;#部署数据库&#34; class=&#34;headerlink&#34; title=&#34;部署数据库&#34;&gt;&lt;/a&gt;部署数据库&lt;/h2&gt;&lt;h3 id=&#34;任务情境描述&#34;&gt;&lt;a href=&#34;#任务情境描述&#34; class=&#34;headerlink&#34; title=&#34;任务情境描述&#34;&gt;&lt;/a&gt;任务情境描述&lt;/h3&gt;&lt;h4 id=&#34;任务一&#34;&gt;&lt;a href=&#34;#任务一&#34; class=&#34;headerlink&#34; title=&#34;任务一&#34;&gt;&lt;/a&gt;任务一&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;某公司准备开发一套员工管理系统，其中数据库使用到了MariaDB数据库，现需要系统管理员完成以下部署工作：在公司一台Linux服务器（192.168.1.10）上安装数据库服务器和客户端，方便开发人员开发测试使用，在另一台Linux主机（192.168.1.100）上安装客户端；&lt;br&gt;对数据库进行初始化设置。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&#34;任务二&#34;&gt;&lt;a href=&#34;#任务二&#34; class=&#34;headerlink&#34; title=&#34;任务二&#34;&gt;&lt;/a&gt;任务二&lt;/h4&gt;&lt;blockquote&gt;
&lt;p&gt;该公司准备开发一套新员工管理系统，现需要系统管理员完成以下安全管理工作：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;对数据库服务器进行必要的网络安全设置，只允许从公司内部网络（192.168.1.0&amp;#x2F;24）访问数据库服务器；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;从安全的角度对数据库的配置文件进行必要的安全设置，修改数据库端口号为“8800”，并设置日志文件为&amp;#x2F;var&amp;#x2F;log&amp;#x2F;mariaDB&amp;#x2F;access.log&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;登录数据库，并新建一个名为newstaff的数据库；在数据库中创建一个数据表为stafftable；字段类型为staff int，username varchar(20)，sex char(6)，age&lt;br&gt;int；并将下表中的总公司部门员工信息插入到stafftable表中：&lt;img src=&#34;https://ymxpic.pages.dev/file/a238c4a03ba3d4b9e5f31.png&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/a238c4a03ba3d4b9e5f31.png&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;对数据库账户和权限进行必要的管理，为开发人员创建一个名为“adminDB”的账户，但只允许他对newstaff数据库进行必要的操作；&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;为有效保护员工数据，编写一个定时任务，让系统每天凌晨0:00点对newstaff数据库自动进行数据备份。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、-服务器（Server）和客户端（Client1）安装数据库服务&#34;&gt;&lt;a href=&#34;#一、-服务器（Server）和客户端（Client1）安装数据库服务&#34; class=&#34;headerlink&#34; title=&#34;一、 服务器（Server）和客户端（Client1）安装数据库服务&#34;&gt;&lt;/a&gt;一、 服务器（Server）和客户端（Client1）安装数据库服务&lt;/h2&gt;&lt;h3 id=&#34;1-服务器（Server）&#34;&gt;&lt;a href=&#34;#1-服务器（Server）&#34; class=&#34;headerlink&#34; title=&#34;1. 服务器（Server）&#34;&gt;&lt;/a&gt;1. 服务器（Server）&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# yum -y install mariadb-server mysql	&lt;span class=&#34;comment&#34;&gt;//安装&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# systemctl start mariadb.service 		&lt;span class=&#34;comment&#34;&gt;//开启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# systemctl enable mariadb.service 	&lt;span class=&#34;comment&#34;&gt;//自启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Created symlink from /etc/systemd/system/multi-user.target.wants/mariadb.service to /usr/lib/systemd/system/mariadb.service.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-客户端（Client1）&#34;&gt;&lt;a href=&#34;#2-客户端（Client1）&#34; class=&#34;headerlink&#34; title=&#34;2. 客户端（Client1）&#34;&gt;&lt;/a&gt;2. 客户端（Client1）&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# yum -y install mysql		&lt;span class=&#34;comment&#34;&gt;//安装&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;二、在服务器（Server）创建数据库和表&#34;&gt;&lt;a href=&#34;#二、在服务器（Server）创建数据库和表&#34; class=&#34;headerlink&#34; title=&#34;二、在服务器（Server）创建数据库和表&#34;&gt;&lt;/a&gt;二、在服务器（Server）创建数据库和表&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;48&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;49&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;50&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;51&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;52&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# mysql -uroot -p		&lt;span class=&#34;comment&#34;&gt;//登录数据库 默认密码应该是root或空&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enter password: &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Welcome to the MariaDB monitor.  Commands end with ; or \g.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Your MariaDB connection id is &lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Server version: &lt;span class=&#34;number&#34;&gt;5.5&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.68&lt;/span&gt;-MariaDB MariaDB Server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;Copyright&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(c)&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;2018&lt;/span&gt;, Oracle, MariaDB Corporation Ab and others.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;help;&amp;#x27;&lt;/span&gt; or &lt;span class=&#34;string&#34;&gt;&amp;#x27;\h&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; help. Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;\c&amp;#x27;&lt;/span&gt; to clear the current input statement.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; create database newstaff;			&lt;span class=&#34;comment&#34;&gt;//创建数据库newstaff&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Query OK, &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; row &lt;span class=&#34;title function_&#34;&gt;affected&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; use newstaff;						&lt;span class=&#34;comment&#34;&gt;//进入数据库newstaff&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Database changed&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; create table &lt;span class=&#34;title function_&#34;&gt;stafftable&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(		//按任务需求创建表&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;params&#34;&gt;    -&amp;gt; staffID &lt;span class=&#34;type&#34;&gt;int&lt;/span&gt; auto_increment,					//自增&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;params&#34;&gt;    -&amp;gt; username varchar(&lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;)&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt; sex &lt;span class=&#34;title function_&#34;&gt;char&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;)&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt; age &lt;span class=&#34;type&#34;&gt;int&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt; primary &lt;span class=&#34;title function_&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(staffID)&lt;/span&gt;							&lt;span class=&#34;comment&#34;&gt;//主键&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    -&amp;gt; )engine=innodb &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; charset=utf8;			&lt;span class=&#34;comment&#34;&gt;//表的引擎字符类型&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Query OK, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; rows &lt;span class=&#34;title function_&#34;&gt;affected&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.02&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; insert into &lt;span class=&#34;title function_&#34;&gt;stafftable&lt;/span&gt;&lt;span class=&#34;params&#34;&gt;(username,sex,age)&lt;/span&gt; values(&lt;span class=&#34;string&#34;&gt;&amp;#x27;Tom&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;male&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;25&lt;/span&gt;),(&lt;span class=&#34;string&#34;&gt;&amp;#x27;Mary&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;string&#34;&gt;&amp;#x27;female&amp;#x27;&lt;/span&gt;,&lt;span class=&#34;number&#34;&gt;30&lt;/span&gt;);								&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Query OK, &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; rows &lt;span class=&#34;title function_&#34;&gt;affected&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.05&lt;/span&gt; sec)&lt;/span&gt;				&lt;span class=&#34;comment&#34;&gt;//按要求插入数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Records: &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;  Duplicates: &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;  Warnings: &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; desc stafftable;				&lt;span class=&#34;comment&#34;&gt;//查看表结构&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------+-------------+------+-----+---------+----------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| Field    | Type        | Null | Key | Default | Extra          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------+-------------+------+-----+---------+----------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| staffID  | &lt;span class=&#34;type&#34;&gt;int&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;)     | NO   | PRI | NULL    | auto_increment |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| username | varchar(&lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;) | YES  |     | NULL    |                |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| sex      | &lt;span class=&#34;type&#34;&gt;char&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;)     | YES  |     | NULL    |                |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| age      | &lt;span class=&#34;type&#34;&gt;int&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;)     | YES  |     | NULL    |                |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------+-------------+------+-----+---------+----------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;4&lt;/span&gt; rows in &lt;span class=&#34;title function_&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; select * from stafftable;		&lt;span class=&#34;comment&#34;&gt;//查询表内所有数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+---------+----------+--------+------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| staffID | username | sex    | age  |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+---------+----------+--------+------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|       &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; | Tom      | male   |   &lt;span class=&#34;number&#34;&gt;25&lt;/span&gt; |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|       &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; | Mary     | female |   &lt;span class=&#34;number&#34;&gt;30&lt;/span&gt; |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+---------+----------+--------+------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; rows in &lt;span class=&#34;title function_&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; quit							&lt;span class=&#34;comment&#34;&gt;//退出&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Bye&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;三、-服务器（Server）只允许192-168-1-0-24访问数据库&#34;&gt;&lt;a href=&#34;#三、-服务器（Server）只允许192-168-1-0-24访问数据库&#34; class=&#34;headerlink&#34; title=&#34;三、 服务器（Server）只允许192.168.1.0&amp;#x2F;24访问数据库&#34;&gt;&lt;/a&gt;三、 服务器（Server）只允许192.168.1.0&amp;#x2F;24访问数据库&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# iptables -A INPUT -p tcp -s &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt;/&lt;span class=&#34;number&#34;&gt;24&lt;/span&gt; --dport &lt;span class=&#34;number&#34;&gt;8800&lt;/span&gt; -j ACCEPT&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;四、-修改服务器（Server）默认端口&#34;&gt;&lt;a href=&#34;#四、-修改服务器（Server）默认端口&#34; class=&#34;headerlink&#34; title=&#34;四、 修改服务器（Server）默认端口&#34;&gt;&lt;/a&gt;四、 修改服务器（Server）默认端口&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/my.cnf		&lt;span class=&#34;comment&#34;&gt;//插入以下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;port=8800										//修改默认端口&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;max_user_connections=2							//最大用户数&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;log=/var/log/mariadb/access.log					//修改日志默认路径&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[mysqld_safe]&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;防火墙设置&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;允许mysql[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-service=mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;8800&lt;/span&gt;/tcp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;8800&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;重启防火墙[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# semanage port -l | grep mysql&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysqld_port_t                  tcp      &lt;span class=&#34;number&#34;&gt;8800&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;1186&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;3306&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;63132&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;63164&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mysqlmanagerd_port_t           tcp      &lt;span class=&#34;number&#34;&gt;2273&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# semanage port -a -t mysqld_port_t -p tcp &lt;span class=&#34;number&#34;&gt;8800&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# firewall-cmd --reload &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# systemctl restart mariadb.service &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;五、在服务器（Server）上创建账户只允许他对newstaff数据库进行操作&#34;&gt;&lt;a href=&#34;#五、在服务器（Server）上创建账户只允许他对newstaff数据库进行操作&#34; class=&#34;headerlink&#34; title=&#34;五、在服务器（Server）上创建账户只允许他对newstaff数据库进行操作&#34;&gt;&lt;/a&gt;五、在服务器（Server）上创建账户只允许他对newstaff数据库进行操作&lt;/h2&gt;&lt;p&gt;创建用户&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# mysql -uroot -p&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enter password: &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Welcome to the MariaDB monitor.  Commands end with ; or \g.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Your MariaDB connection id is &lt;span class=&#34;number&#34;&gt;7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Server version: &lt;span class=&#34;number&#34;&gt;5.5&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.68&lt;/span&gt;-MariaDB MariaDB Server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;Copyright&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(c)&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;2018&lt;/span&gt;, Oracle, MariaDB Corporation Ab and others.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;help;&amp;#x27;&lt;/span&gt; or &lt;span class=&#34;string&#34;&gt;&amp;#x27;\h&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; help. Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;\c&amp;#x27;&lt;/span&gt; to clear the current input statement.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; use mysql;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Reading table information &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; completion of table and column names&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;You can turn off &lt;span class=&#34;built_in&#34;&gt;this&lt;/span&gt; feature to get a quicker startup with -A&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Database changed&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [mysql]&amp;gt; create user &lt;span class=&#34;string&#34;&gt;&amp;#x27;adminDB&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt; identified by &lt;span class=&#34;string&#34;&gt;&amp;#x27;root&amp;#x27;&lt;/span&gt;;  &lt;span class=&#34;comment&#34;&gt;//设置用户名和密码root&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Query OK, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; rows &lt;span class=&#34;title function_&#34;&gt;affected&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [mysql]&amp;gt; quit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Bye&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;只允许对newstaff数据库进行操作&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# mysql -uroot -p&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enter password: &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Welcome to the MariaDB monitor.  Commands end with ; or \g.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Your MariaDB connection id is &lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Server version: &lt;span class=&#34;number&#34;&gt;5.5&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.68&lt;/span&gt;-MariaDB MariaDB Server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;Copyright&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(c)&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;2018&lt;/span&gt;, Oracle, MariaDB Corporation Ab and others.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;help;&amp;#x27;&lt;/span&gt; or &lt;span class=&#34;string&#34;&gt;&amp;#x27;\h&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; help. Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;\c&amp;#x27;&lt;/span&gt; to clear the current input statement.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; show grants &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;adminDB&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------------------------------------------------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| Grants &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; adminDB@%                                                                                   |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------------------------------------------------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| GRANT USAGE ON *.* TO &lt;span class=&#34;string&#34;&gt;&amp;#x27;adminDB&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt; IDENTIFIED BY PASSWORD &lt;span class=&#34;string&#34;&gt;&amp;#x27;*81F5E21E35407D884A6CD4A731AEBFB6AF209E1B&amp;#x27;&lt;/span&gt; |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------------------------------------------------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; row in &lt;span class=&#34;title function_&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; grant select,insert,update,delete,create,drop on newstaff.* to &lt;span class=&#34;string&#34;&gt;&amp;#x27;adminDB&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt;;	&lt;span class=&#34;comment&#34;&gt;//只允许adminDB操作数据库newstaff&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Query OK, &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; rows &lt;span class=&#34;title function_&#34;&gt;affected&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.01&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; quit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Bye&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;六、编写备份程序（可略，老师好像不看）&#34;&gt;&lt;a href=&#34;#六、编写备份程序（可略，老师好像不看）&#34; class=&#34;headerlink&#34; title=&#34;六、编写备份程序（可略，老师好像不看）&#34;&gt;&lt;/a&gt;六、编写备份程序（可略，老师好像不看）&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# mysqldump -uroot -p newstaff &amp;gt; newstaff_backup.sql		&lt;span class=&#34;comment&#34;&gt;//备份newstaff数据库&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enter password: &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; www]# cd ..&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;]# cd ..&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; /]# vim backup.sh												&lt;span class=&#34;comment&#34;&gt;//编写程序&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#!/bin/bash&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;time=`date+&lt;span class=&#34;string&#34;&gt;&amp;quot;(&amp;quot;&lt;/span&gt;%F&lt;span class=&#34;string&#34;&gt;&amp;quot;)&amp;quot;&lt;/span&gt;%R`&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;$/usr/local/mysql/bin/mysqldump -uroot -proot newstaff|gzip &amp;gt; /root/staffbackup-$time.gz&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; /]# crontab -e													&lt;span class=&#34;comment&#34;&gt;//添加定时任务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;00 00 * * * /backup.sh														//0点0分 每天 每月 每时 脚本路径&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;crontab: installing &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;crontab&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; /]# systemcrl restart mariadb&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h2 id=&#34;七、-测试&#34;&gt;&lt;a href=&#34;#七、-测试&#34; class=&#34;headerlink&#34; title=&#34;七、 测试&#34;&gt;&lt;/a&gt;七、 测试&lt;/h2&gt;&lt;p&gt;老师一般说这几条命令，她叫你打什么就打什么吧&lt;/p&gt;
&lt;h3 id=&#34;1-客户端（Client1）&#34;&gt;&lt;a href=&#34;#1-客户端（Client1）&#34; class=&#34;headerlink&#34; title=&#34;1. 客户端（Client1）&#34;&gt;&lt;/a&gt;1. 客户端（Client1）&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# mysql -uadminDB -p -P8800 -h &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;	&lt;span class=&#34;comment&#34;&gt;//带端口登录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enter password: &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Welcome to the MariaDB monitor.  Commands end with ; or \g.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Your MariaDB connection id is &lt;span class=&#34;number&#34;&gt;8&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Server version: &lt;span class=&#34;number&#34;&gt;5.5&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.68&lt;/span&gt;-MariaDB MariaDB Server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;Copyright&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(c)&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;2018&lt;/span&gt;, Oracle, MariaDB Corporation Ab and others.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;help;&amp;#x27;&lt;/span&gt; or &lt;span class=&#34;string&#34;&gt;&amp;#x27;\h&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; help. Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;\c&amp;#x27;&lt;/span&gt; to clear the current input statement.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; use newstaff;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Reading table information &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; completion of table and column names&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;You can turn off &lt;span class=&#34;built_in&#34;&gt;this&lt;/span&gt; feature to get a quicker startup with -A&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Database changed&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; desc stafftable;				&lt;span class=&#34;comment&#34;&gt;//查看表结构&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------+-------------+------+-----+---------+----------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| Field    | Type        | Null | Key | Default | Extra          |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------+-------------+------+-----+---------+----------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| staffID  | &lt;span class=&#34;type&#34;&gt;int&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;)     | NO   | PRI | NULL    | auto_increment |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| username | varchar(&lt;span class=&#34;number&#34;&gt;20&lt;/span&gt;) | YES  |     | NULL    |                |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| sex      | &lt;span class=&#34;type&#34;&gt;char&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;6&lt;/span&gt;)     | YES  |     | NULL    |                |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| age      | &lt;span class=&#34;type&#34;&gt;int&lt;/span&gt;(&lt;span class=&#34;number&#34;&gt;11&lt;/span&gt;)     | YES  |     | NULL    |                |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+----------+-------------+------+-----+---------+----------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;4&lt;/span&gt; rows in &lt;span class=&#34;title function_&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; select * from stafftable;		&lt;span class=&#34;comment&#34;&gt;//查看表内容&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+---------+----------+--------+------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| staffID | username | sex    | age  |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+---------+----------+--------+------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|       &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt; | Tom      | male   |   &lt;span class=&#34;number&#34;&gt;25&lt;/span&gt; |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;|       &lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; | Mary     | female |   &lt;span class=&#34;number&#34;&gt;30&lt;/span&gt; |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+---------+----------+--------+------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; rows in &lt;span class=&#34;title function_&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [newstaff]&amp;gt; quit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Bye&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]#&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2-服务器（Server）&#34;&gt;&lt;a href=&#34;#2-服务器（Server）&#34; class=&#34;headerlink&#34; title=&#34;2. 服务器（Server）&#34;&gt;&lt;/a&gt;2. 服务器（Server）&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; /]# mysql -uroot -p&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enter password: &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Welcome to the MariaDB monitor.  Commands end with ; or \g.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Your MariaDB connection id is &lt;span class=&#34;number&#34;&gt;12&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Server version: &lt;span class=&#34;number&#34;&gt;5.5&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.68&lt;/span&gt;-MariaDB MariaDB Server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;title function_&#34;&gt;Copyright&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(c)&lt;/span&gt; &lt;span class=&#34;number&#34;&gt;2000&lt;/span&gt;, &lt;span class=&#34;number&#34;&gt;2018&lt;/span&gt;, Oracle, MariaDB Corporation Ab and others.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;help;&amp;#x27;&lt;/span&gt; or &lt;span class=&#34;string&#34;&gt;&amp;#x27;\h&amp;#x27;&lt;/span&gt; &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; help. Type &lt;span class=&#34;string&#34;&gt;&amp;#x27;\c&amp;#x27;&lt;/span&gt; to clear the current input statement.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; show grants &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;#x27;adminDB&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+--------------------------------------------------------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| Grants &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; adminDB@%                                                                                   |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+--------------------------------------------------------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| GRANT USAGE ON *.* TO &lt;span class=&#34;string&#34;&gt;&amp;#x27;adminDB&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt; IDENTIFIED BY PASSWORD &lt;span class=&#34;string&#34;&gt;&amp;#x27;*81F5E21E35407D884A6CD4A731AEBFB6AF209E1B&amp;#x27;&lt;/span&gt; |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;| GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP ON `newstaff`.* TO &lt;span class=&#34;string&#34;&gt;&amp;#x27;adminDB&amp;#x27;&lt;/span&gt;@&lt;span class=&#34;string&#34;&gt;&amp;#x27;%&amp;#x27;&lt;/span&gt;                    |&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;+--------------------------------------------------------------------------------------------------------------------+&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; rows in &lt;span class=&#34;title function_&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;0.00&lt;/span&gt; sec)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;MariaDB [(none)]&amp;gt; quit&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Bye&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@server&lt;/span&gt; /]#&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/2d95345a.html</guid>
            <title>第七章 Centos 7 Linux配置ftp 实训任务1：FTP服务器加密传输</title>
            <link>https://yeminxi.github.io/posts/2d95345a.html</link>
            <category>服务器</category>
            <category>Linux</category>
            <category>CentOS</category>
            <category>网络</category>
            <category>FTP</category>
            <pubDate>Tue, 28 May 2024 05:31:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;&amp;#x3D;&amp;#x3D;前面的DNS一定要成功才能做！！！&amp;#x3D;&amp;#x3D;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;虚拟机需求：1台DNS服务器（Server）、1台Web服务器（Ftp Server）、1台客户端（Client1）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第五章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;FTP服务器加密传输&#34;&gt;&lt;a href=&#34;#FTP服务器加密传输&#34; class=&#34;headerlink&#34; title=&#34;FTP服务器加密传输&#34;&gt;&lt;/a&gt;FTP服务器加密传输&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;任务情境描述&lt;br&gt;某公司在需要使用vsftpd搭建一台FTP服务器，用于web站点资料的更新和公司公用文件的存放。为了保证客户机和服务器之间传输数据的保密性和完整性，公司决定使用SSL&amp;#x2F;TLS协议加固FTP服务器，客户机和服务器之间采用SSL&amp;#x2F;TLS协议加密数据。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;任务要求：&#34;&gt;&lt;a href=&#34;#任务要求：&#34; class=&#34;headerlink&#34; title=&#34;任务要求：&#34;&gt;&lt;/a&gt;任务要求：&lt;/h2&gt;&lt;blockquote&gt;
&lt;h3 id=&#34;1-禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&#34;&gt;&lt;a href=&#34;#1-禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&#34; class=&#34;headerlink&#34; title=&#34;1. 禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&#34;&gt;&lt;/a&gt;1. 禁止使用不安全的FTP，请使用“CA”证书颁发机构，颁发的证书，启用FTPS服务；&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;Country Name (2 letter code) [XX]:CN
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;State or Province Name (fullname) []:GD 	 	&lt;br&gt;Locality Name (eg, city) [Default City]:GuangZhou 	&lt;br&gt;    Organization Name (eg, company) [Default Company Ltd]:mydomain.com 	&lt;br&gt;    Organizational Unit Name (eg, section) []:Operations Departments 	&lt;br&gt;    Common Name (eg, your name or your server’s hostname)[]:ftp.mydomain.com&lt;/p&gt;
&lt;h3 id=&#34;2-使用ftp-mydomian-com域名访问服务器；&#34;&gt;&lt;a href=&#34;#2-使用ftp-mydomian-com域名访问服务器；&#34; class=&#34;headerlink&#34; title=&#34;2. 使用ftp.mydomian.com域名访问服务器；&#34;&gt;&lt;/a&gt;2. 使用ftp.mydomian.com域名访问服务器；&lt;/h3&gt;&lt;h3 id=&#34;3-用户webadmin，登录ftp服务器，根目录为-webdata-；&#34;&gt;&lt;a href=&#34;#3-用户webadmin，登录ftp服务器，根目录为-webdata-；&#34; class=&#34;headerlink&#34; title=&#34;3. 用户webadmin，登录ftp服务器，根目录为&amp;#x2F;webdata&amp;#x2F;；&#34;&gt;&lt;/a&gt;3. 用户webadmin，登录ftp服务器，根目录为&amp;#x2F;webdata&amp;#x2F;；&lt;/h3&gt;&lt;h3 id=&#34;4-登录后限制在自己的根目录；&#34;&gt;&lt;a href=&#34;#4-登录后限制在自己的根目录；&#34; class=&#34;headerlink&#34; title=&#34;4. 登录后限制在自己的根目录；&#34;&gt;&lt;/a&gt;4. 登录后限制在自己的根目录；&lt;/h3&gt;&lt;h3 id=&#34;5-允许WEB管理员上传和下载文件，但是禁止上传后缀名为-doc-docx-xlsx的文件；&#34;&gt;&lt;a href=&#34;#5-允许WEB管理员上传和下载文件，但是禁止上传后缀名为-doc-docx-xlsx的文件；&#34; class=&#34;headerlink&#34; title=&#34;5. 允许WEB管理员上传和下载文件，但是禁止上传后缀名为.doc .docx .xlsx的文件；&#34;&gt;&lt;/a&gt;5. 允许WEB管理员上传和下载文件，但是禁止上传后缀名为.doc .docx .xlsx的文件；&lt;/h3&gt;&lt;h3 id=&#34;6-限制用户的下载最大速度为100kb-s；最大同一IP在线人数为2人；&#34;&gt;&lt;a href=&#34;#6-限制用户的下载最大速度为100kb-s；最大同一IP在线人数为2人；&#34; class=&#34;headerlink&#34; title=&#34;6. 限制用户的下载最大速度为100kb&amp;#x2F;s；最大同一IP在线人数为2人；&#34;&gt;&lt;/a&gt;6. 限制用户的下载最大速度为100kb&amp;#x2F;s；最大同一IP在线人数为2人；&lt;/h3&gt;&lt;h3 id=&#34;7-用于通过工具或者浏览器下载的最大速度不超过100kb-s；&#34;&gt;&lt;a href=&#34;#7-用于通过工具或者浏览器下载的最大速度不超过100kb-s；&#34; class=&#34;headerlink&#34; title=&#34;7.用于通过工具或者浏览器下载的最大速度不超过100kb&amp;#x2F;s；&#34;&gt;&lt;/a&gt;7.用于通过工具或者浏览器下载的最大速度不超过100kb&amp;#x2F;s；&lt;/h3&gt;&lt;h3 id=&#34;8-一个IP地址同时登陆的用户进程-人数不超过2人。&#34;&gt;&lt;a href=&#34;#8-一个IP地址同时登陆的用户进程-人数不超过2人。&#34; class=&#34;headerlink&#34; title=&#34;8. 一个IP地址同时登陆的用户进程&amp;#x2F;人数不超过2人。&#34;&gt;&lt;/a&gt;8. 一个IP地址同时登陆的用户进程&amp;#x2F;人数不超过2人。&lt;/h3&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;一、配置Ftp服务器（Ftp-Server）的IP地址&#34;&gt;&lt;a href=&#34;#一、配置Ftp服务器（Ftp-Server）的IP地址&#34; class=&#34;headerlink&#34; title=&#34;一、配置Ftp服务器（Ftp Server）的IP地址&#34;&gt;&lt;/a&gt;一、配置Ftp服务器（Ftp Server）的IP地址&lt;/h2&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=static&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=192.168.1.100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=192.168.1.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=192.168.1.10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS2=202.96.128.86&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b3c12c42b1a1943313648.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b3c12c42b1a1943313648.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、-为Ftp服务器（Ftp-Server）安装vsftp服务&#34;&gt;&lt;a href=&#34;#二、-为Ftp服务器（Ftp-Server）安装vsftp服务&#34; class=&#34;headerlink&#34; title=&#34;二、 为Ftp服务器（Ftp Server）安装vsftp服务&#34;&gt;&lt;/a&gt;二、 为Ftp服务器（Ftp Server）安装vsftp服务&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum -y install vsftpd	&lt;span class=&#34;comment&#34;&gt;//安装vsftp服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl start vsftpd	&lt;span class=&#34;comment&#34;&gt;//开启vsftp服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable vsftpd	&lt;span class=&#34;comment&#34;&gt;//开机自启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/da457df601a02990e21fc.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/da457df601a02990e21fc.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、Ftp服务器（Ftp-Server）生成证书&#34;&gt;&lt;a href=&#34;#三、Ftp服务器（Ftp-Server）生成证书&#34; class=&#34;headerlink&#34; title=&#34;三、Ftp服务器（Ftp Server）生成证书&#34;&gt;&lt;/a&gt;三、Ftp服务器（Ftp Server）生成证书&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;创建目录[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# mkdir /etc/ssl/serverkey&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;生成证书[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# openssl req -x509 -nodes -keyout /etc/ssl/serverkey/vsftpd.pem -out /etc/ssl/serverkey/vsftpd.pem -days &lt;span class=&#34;number&#34;&gt;365&lt;/span&gt; -newkey rsa:&lt;span class=&#34;number&#34;&gt;2048&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Generating a &lt;span class=&#34;number&#34;&gt;2048&lt;/span&gt; bit RSA &lt;span class=&#34;keyword&#34;&gt;private&lt;/span&gt; key&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;................+++&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;.....+++&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;writing &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;title class_&#34;&gt;private&lt;/span&gt; key to &lt;span class=&#34;string&#34;&gt;&amp;#x27;/etc/ssl/serverkey/vsftpd.pem&amp;#x27;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-----&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;You are about to be asked to enter information that will be incorporated&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;into your certificate request.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;What you are about to enter is what is called a Distinguished Name or a DN.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;There are quite a few fields but you can leave some blank&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;For some fields there will be a &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; value,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;If you enter &lt;span class=&#34;string&#34;&gt;&amp;#x27;.&amp;#x27;&lt;/span&gt;, the field will be left blank.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-----&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Country &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; letter code)&lt;/span&gt; [CN]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;State or Province &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(full name)&lt;/span&gt; [China]:GD&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Locality &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, city)&lt;/span&gt; [GuangZhou]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Organization &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, company)&lt;/span&gt; [ymx.com]:&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Organizational Unit &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, section)&lt;/span&gt; []:Operations Departments&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Common &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, your name or your server&lt;span class=&#34;string&#34;&gt;&amp;#x27;s hostname) []:ftp.ymx.com&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;Email Address []:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;[root@webserver webserver]#&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;图片打反了 别按照图片 按上面的文本&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/173428ff934d91c26fc94.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/173428ff934d91c26fc94.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;四、-Ftp服务器（Ftp-Server）防火墙设置&#34;&gt;&lt;a href=&#34;#四、-Ftp服务器（Ftp-Server）防火墙设置&#34; class=&#34;headerlink&#34; title=&#34;四、 Ftp服务器（Ftp Server）防火墙设置&#34;&gt;&lt;/a&gt;四、 Ftp服务器（Ftp Server）防火墙设置&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;允许ftp通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-service=ftp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;990&lt;/span&gt;/tcp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;990&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;40000&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;50000&lt;/span&gt;/tcp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;允许端口通过[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;40000&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;50000&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;重启防火墙[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# firewall-cmd --reload &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cb7bc5a7b1bc7e530010d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cb7bc5a7b1bc7e530010d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;五、-Ftp服务器（Ftp-Server）配置vsftp文件&#34;&gt;&lt;a href=&#34;#五、-Ftp服务器（Ftp-Server）配置vsftp文件&#34; class=&#34;headerlink&#34; title=&#34;五、 Ftp服务器（Ftp Server）配置vsftp文件&#34;&gt;&lt;/a&gt;五、 Ftp服务器（Ftp Server）配置vsftp文件&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/vsftpd/vsftpd.conf&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;最后插入&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;ssl_enable=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ssl_tlsv1=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ssl_sslv2=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ssl_sslv3=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;rsa_private_key_file=/etc/ssl/serverkey/vsftpd.pem&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;rsa_cert_file=/etc/ssl/serverkey/vsftpd.pem&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;allow_anon_ssl=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;force_local_logins_ssl=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;force_local_data_ssl=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pasv_min_port=40000&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pasv_max_port=50000&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart vsftpd	&lt;span class=&#34;comment&#34;&gt;//重启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;图片打错了请按照上面文本打&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/7ffae0727a56d9d65892a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/7ffae0727a56d9d65892a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9b2f1e351d05e8dcd8e28.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9b2f1e351d05e8dcd8e28.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节-这里不做过多解释）&#34;&gt;&lt;a href=&#34;#六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节-这里不做过多解释）&#34; class=&#34;headerlink&#34; title=&#34;六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节 这里不做过多解释）&#34;&gt;&lt;/a&gt;六、创建用户和根目录以及虚拟用户（详情看学习通ftp虚拟用户章节 这里不做过多解释）&lt;/h2&gt;&lt;p&gt;看不懂去看ppt&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;45&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# useradd webadmin -s /sbin/nologin &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# useradd admin -s /sbin/nologin  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# passwd --stdin webadmin &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;更改用户 webadmin 的密码 。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;passwd：所有的身份验证令牌已经成功更新。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# passwd --stdin admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;更改用户 admin 的密码 。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;passwd：所有的身份验证令牌已经成功更新。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vusr.txt &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;webadmin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# mkdir -p /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/ftp/pub/ /webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# chmod &lt;span class=&#34;number&#34;&gt;777&lt;/span&gt; /webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# chown webadmin /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/ftp/pub/ /webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# rpm -qf /usr/bin/db_load&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;libdb-utils-&lt;span class=&#34;number&#34;&gt;5.3&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.21&lt;/span&gt;-&lt;span class=&#34;number&#34;&gt;24.&lt;/span&gt;el7.x86_64&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# db_load -T -t hash -f /etc/vsftpd/vusr.txt /etc/vsftpd/vusr.db&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# file /etc/vsftpd/vusr.db&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/etc/vsftpd/vusr.db: Berkeley &lt;span class=&#34;title function_&#34;&gt;DB&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(Hash, version &lt;span class=&#34;number&#34;&gt;9&lt;/span&gt;, &lt;span class=&#34;keyword&#34;&gt;native&lt;/span&gt; &lt;span class=&#34;type&#34;&gt;byte&lt;/span&gt;-order)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# chmod &lt;span class=&#34;number&#34;&gt;600&lt;/span&gt; /etc/vsftpd/vusr.*&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# cp -p /etc/pam.d/vsftpd /etc/pam.d/vsftpd-vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/pam.d/vsftpd-vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;auth       sufficient   /lib64/security/pam_userdb.so db=/etc/vsftpd/vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;account    sufficient   /lib64/security/pam_userdb.so db=/etc/vsftpd/vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vsftpd.conf &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_enable=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;chroot_local_user=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;pam_service_name=vsftpd-vusr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;guest_enable=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;guest_username=webadmin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;user_config_dir=/etc/vsftpd/vconfig&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;virtual_use_local_privs=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;allow_writeable_chroot=yes&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# mkdir /etc/vsftpd/vconfig/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vconfig/webadmin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_root=/webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# vim /etc/vsftpd/vconfig/admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_root=/webdata&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;write_enable=no&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# setsebool -P ftpd_full_access on&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# systemctl restart vsftpd&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;七、-使用域名登录要在Dns服务器（Dns-Server）上正反向加上一条（略过）&#34;&gt;&lt;a href=&#34;#七、-使用域名登录要在Dns服务器（Dns-Server）上正反向加上一条（略过）&#34; class=&#34;headerlink&#34; title=&#34;七、 使用域名登录要在Dns服务器（Dns Server）上正反向加上一条（略过）&#34;&gt;&lt;/a&gt;七、 使用域名登录要在Dns服务器（Dns Server）上正反向加上一条（略过）&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/204c48d07d06906775de2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/204c48d07d06906775de2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;八、任务需求后四项Ftp服务器（Ftp-Server）上修改配置文件&#34;&gt;&lt;a href=&#34;#八、任务需求后四项Ftp服务器（Ftp-Server）上修改配置文件&#34; class=&#34;headerlink&#34; title=&#34;八、任务需求后四项Ftp服务器（Ftp Server）上修改配置文件&#34;&gt;&lt;/a&gt;八、任务需求后四项Ftp服务器（Ftp Server）上修改配置文件&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/vsftpd/vsftpd.conf&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;#允许WEB管理员上传和下载文件，但是禁止上传后缀名为.doc .docx .xlsx的文件；&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;deny_file=&amp;#123;*.doc,*.docx,*.xlsx&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#限制用户的下载最大速度为100kb/s；用于通过工具或者浏览器下载的最大速度不超过100kb/s；人数为&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;人；&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;local_max_rate=&lt;span class=&#34;number&#34;&gt;102400&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#最大同一IP在线&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;max_per_ip=&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#一个IP地址同时登陆的用户进程/人数不超过&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;人。&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;max_clients=&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart vsftpd&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;九、客户端（client1）测试&#34;&gt;&lt;a href=&#34;#九、客户端（client1）测试&#34; class=&#34;headerlink&#34; title=&#34;九、客户端（client1）测试&#34;&gt;&lt;/a&gt;九、客户端（client1）测试&lt;/h2&gt;&lt;h3 id=&#34;1-安装ftp服务和FileZilla&#34;&gt;&lt;a href=&#34;#1-安装ftp服务和FileZilla&#34; class=&#34;headerlink&#34; title=&#34;1. 安装ftp服务和FileZilla&#34;&gt;&lt;/a&gt;1. 安装ftp服务和FileZilla&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum -y install epel-release&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install filezilla&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/fa01511cce2858dc00271.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/fa01511cce2858dc00271.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-创建测试文件&#34;&gt;&lt;a href=&#34;#2-创建测试文件&#34; class=&#34;headerlink&#34; title=&#34;2. 创建测试文件&#34;&gt;&lt;/a&gt;2. 创建测试文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; server]# mkdir /home/server/test &lt;span class=&#34;comment&#34;&gt;/*server是我的用户名，看情况来*/&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; server]# chmod &lt;span class=&#34;number&#34;&gt;777&lt;/span&gt;  /home/server/test&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; server]# cd /home/server/test/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.txt&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.doc&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.docx&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@client&lt;/span&gt; test]# vim test.xlsx&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;3-尝试域名带证书CA登录ftp&#34;&gt;&lt;a href=&#34;#3-尝试域名带证书CA登录ftp&#34; class=&#34;headerlink&#34; title=&#34;3. 尝试域名带证书CA登录ftp&#34;&gt;&lt;/a&gt;3. 尝试域名带证书CA登录ftp&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cbc7ba60aae41fa13abc7.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cbc7ba60aae41fa13abc7.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9fefc4d3e02513f54f15f.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9fefc4d3e02513f54f15f.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/45c7673c5fb3db94c02c4.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/45c7673c5fb3db94c02c4.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;登录成功！&lt;/p&gt;
&lt;h3 id=&#34;4-尝试禁止上传文件类型上传&#34;&gt;&lt;a href=&#34;#4-尝试禁止上传文件类型上传&#34; class=&#34;headerlink&#34; title=&#34;4.  尝试禁止上传文件类型上传&#34;&gt;&lt;/a&gt;4.  尝试禁止上传文件类型上传&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1c3ebb110203217f2412e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1c3ebb110203217f2412e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;上传失败！&lt;/p&gt;
&lt;h3 id=&#34;5-尝试下载文件&#34;&gt;&lt;a href=&#34;#5-尝试下载文件&#34; class=&#34;headerlink&#34; title=&#34;5. 尝试下载文件&#34;&gt;&lt;/a&gt;5. 尝试下载文件&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9583e247ad1aa7c6720bc.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9583e247ad1aa7c6720bc.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;成功！&lt;/p&gt;
&lt;h3 id=&#34;6-单IP多用户登录&#34;&gt;&lt;a href=&#34;#6-单IP多用户登录&#34; class=&#34;headerlink&#34; title=&#34;6. 单IP多用户登录&#34;&gt;&lt;/a&gt;6. 单IP多用户登录&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/6257891a3377c2add1e27.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/6257891a3377c2add1e27.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;最多只能2个不能再多了！&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/f0f1ea42.html</guid>
            <title>第六章 Centos 7 Linux配置web 实训任务：Apache服务器部署</title>
            <link>https://yeminxi.github.io/posts/f0f1ea42.html</link>
            <category>服务器</category>
            <category>Linux</category>
            <category>CentOS</category>
            <category>Apache</category>
            <pubDate>Tue, 28 May 2024 05:04:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;&lt;em&gt;&lt;strong&gt;&amp;#x3D;&amp;#x3D;前面的DNS一定要成功才能做！！！&amp;#x3D;&amp;#x3D;&lt;/strong&gt;&lt;/em&gt;&lt;br&gt;虚拟机需求：1台DNS服务器（Server）、1台Web服务器（Web Server）、1台客户端（Client1）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第五章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;Apache服务器部署&#34;&gt;&lt;a href=&#34;#Apache服务器部署&#34; class=&#34;headerlink&#34; title=&#34;Apache服务器部署&#34;&gt;&lt;/a&gt;Apache服务器部署&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;任务情境描述&lt;/p&gt;
&lt;p&gt;某公司需要搭建一台Web服务器，用于公司办公和网站宣传；还有另一台DNS服务器，用于实现Web服务器的域名解析。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt; 网络拓扑图如下：&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/f41d78cb8b0aed1fc5f16.png&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/f41d78cb8b0aed1fc5f16.png&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;部署信息如下：&lt;/p&gt;
&lt;p&gt;•        Server1为DNS服务器，IP地址为：192.168.1.10；&lt;/p&gt;
&lt;p&gt;•        Server2为Web服务器，IP地址为：192.168.1.100。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;实训任务：&#34;&gt;&lt;a href=&#34;#实训任务：&#34; class=&#34;headerlink&#34; title=&#34;实训任务：&#34;&gt;&lt;/a&gt;实训任务：&lt;/h3&gt;&lt;h4 id=&#34;任务1&#34;&gt;&lt;a href=&#34;#任务1&#34; class=&#34;headerlink&#34; title=&#34;任务1&#34;&gt;&lt;/a&gt;任务1&lt;/h4&gt;&lt;p&gt;搭建&lt;a href=&#34;http://web1.mydomain.com的web1服务器,主目录是/var/www/web1%EF%BC%8C%E5%8F%AA%E5%85%81%E8%AE%B8192.168.1.0/24%E7%BD%91%E6%AE%B5%E7%9A%84%E4%B8%BB%E6%9C%BA%E8%AE%BF%E9%97%AE%E3%80%82&#34;&gt;http://web1.mydomain.com的web1服务器，主目录是/var/www/web1，只允许192.168.1.0/24网段的主机访问。&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h4 id=&#34;任务2&#34;&gt;&lt;a href=&#34;#任务2&#34; class=&#34;headerlink&#34; title=&#34;任务2&#34;&gt;&lt;/a&gt;任务2&lt;/h4&gt;&lt;p&gt;搭建基于8008端口号的安全服务器，可使用&lt;a href=&#34;https://web2.mydomain.com:8008地址访问，主目录是/var/www/web2，使用CA颁发证书进行安全认证。&#34;&gt;https://web2.mydomain.com:8008地址访问，主目录是/var/www/web2，使用CA颁发证书进行安全认证。&lt;/a&gt;&lt;br&gt;“CSK Global Root CA”颁发机构颁发，网站证书信息如下：&lt;br&gt;    C &amp;#x3D; CN&lt;br&gt;    ST &amp;#x3D; China&lt;br&gt;    L &amp;#x3D; GuangZhou&lt;br&gt;    O &amp;#x3D; mydomain.com&lt;br&gt;    OU &amp;#x3D; Operations Departments&lt;br&gt;    CN &amp;#x3D; web2.mydomain.com&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h4 id=&#34;任务3-启动防火墙，SELinux设置为（Enforcing）。&#34;&gt;&lt;a href=&#34;#任务3-启动防火墙，SELinux设置为（Enforcing）。&#34; class=&#34;headerlink&#34; title=&#34;任务3 启动防火墙，SELinux设置为（Enforcing）。&#34;&gt;&lt;/a&gt;任务3 启动防火墙，SELinux设置为（Enforcing）。&lt;/h4&gt;&lt;/blockquote&gt;
&lt;h2 id=&#34;一、配置Web服务器（Web-Server）的IP地址&#34;&gt;&lt;a href=&#34;#一、配置Web服务器（Web-Server）的IP地址&#34; class=&#34;headerlink&#34; title=&#34;一、配置Web服务器（Web Server）的IP地址&#34;&gt;&lt;/a&gt;一、配置Web服务器（Web Server）的IP地址&lt;/h2&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=static&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=192.168.1.100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=192.168.1.2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=192.168.1.10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS2=202.96.128.86&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/3588694d141b24cb86fd7.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/3588694d141b24cb86fd7.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、在Web服务器（Web-Server）上生成CA证书&#34;&gt;&lt;a href=&#34;#二、在Web服务器（Web-Server）上生成CA证书&#34; class=&#34;headerlink&#34; title=&#34;二、在Web服务器（Web Server）上生成CA证书&#34;&gt;&lt;/a&gt;二、在Web服务器（Web Server）上生成CA证书&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;32&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# cd /etc/pki/tls/certs/&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; certs]# make server.key&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; certs]# openssl rsa -in server.key -out server.key&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; certs]# make server.csr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;umask &lt;span class=&#34;number&#34;&gt;77&lt;/span&gt; ; \&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;/usr/bin/openssl req -utf8 -&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; -key server.key -out server.csr&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;You are about to be asked to enter information that will be incorporated&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;into your certificate request.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;What you are about to enter is what is called a Distinguished Name or a DN.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;There are quite a few fields but you can leave some blank&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;For some fields there will be a &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; value,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;If you enter &lt;span class=&#34;string&#34;&gt;&amp;#x27;.&amp;#x27;&lt;/span&gt;, the field will be left blank.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-----&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Country &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(&lt;span class=&#34;number&#34;&gt;2&lt;/span&gt; letter code)&lt;/span&gt; [XX]:CN&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;State or Province &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(full name)&lt;/span&gt; []:China&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Locality &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, city)&lt;/span&gt; [Default City]:GuangZhou&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Organization &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, company)&lt;/span&gt; [Default Company Ltd]:ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Organizational Unit &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, section)&lt;/span&gt; []:Operations Deoartments&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Common &lt;span class=&#34;title function_&#34;&gt;Name&lt;/span&gt; &lt;span class=&#34;params&#34;&gt;(eg, your name or your server&lt;span class=&#34;string&#34;&gt;&amp;#x27;s hostname) []:web2.ymx.com&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;Email Address []:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;Please enter the following &amp;#x27;&lt;/span&gt;extra&lt;span class=&#34;string&#34;&gt;&amp;#x27; attributes&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;to be sent with your certificate request&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;A challenge password []:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;An optional company name []:&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;[root@webserver certs]# openssl x509 -in server.csr -out server.pem -req -signkey server.key -days 365&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;[root@webserver certs]# chmod 400 server.*&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;[root@webserver certs]# yum -y install httpd mod_ssl&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;[root@webserver certs]# systemctl restart httpd&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&lt;span class=&#34;params&#34;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;1-修改OpenSSL配置文件&#34;&gt;&lt;a href=&#34;#1-修改OpenSSL配置文件&#34; class=&#34;headerlink&#34; title=&#34;1. 修改OpenSSL配置文件&#34;&gt;&lt;/a&gt;1. 修改OpenSSL配置文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/pki/tls/openssl.cnf	&lt;span class=&#34;comment&#34;&gt;//打开OpenSSL配置文件修改以下&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;my-ca.crt&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;my-ca.crl&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;my-ca.key&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b77d1cae565a551339b87.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b77d1cae565a551339b87.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;22&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[ req_distinguished_name ]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;countryName                     = Country Name (2 letter code)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;countryName_default             = CN&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;countryName_min                 = 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;countryName_max                 = 2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;stateOrProvinceName             = State or Province Name (full name)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;stateOrProvinceName_default     = China&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;localityName                    = Locality Name (eg, city)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;localityName_default            = GuangZhou&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;0.organizationName              = Organization Name (eg, company)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;0.organizationName_default      = ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;# we can do this but it is not needed normally :-)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#1.organizationName             = Second Organization Name (eg, company)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;#1.organizationName_default     = World Wide Web Pty Ltd&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;organizationalUnitName          = Organizational Unit Name (eg, section)&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;organizationalUnitName_default  = Operations Deoartments&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/22226e0fd346c29fb2244.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/22226e0fd346c29fb2244.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;保存退出 :wq&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; cd /etc/pki/CA/	&lt;span class=&#34;comment&#34;&gt;//进入CA目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; ls					&lt;span class=&#34;comment&#34;&gt;//查看目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2-生成CA文件&#34;&gt;&lt;a href=&#34;#2-生成CA文件&#34; class=&#34;headerlink&#34; title=&#34;2. 生成CA文件&#34;&gt;&lt;/a&gt;2. 生成CA文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;touch /etc/pki/CA/index.txt							&lt;span class=&#34;comment&#34;&gt;//新建一个放数据的文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;echo &lt;span class=&#34;number&#34;&gt;01&lt;/span&gt; &amp;gt; /etc/pki/CA/serial						&lt;span class=&#34;comment&#34;&gt;//创建一个索引文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;openssl genrsa -out &lt;span class=&#34;keyword&#34;&gt;private&lt;/span&gt;/my-ca.key -des3 &lt;span class=&#34;number&#34;&gt;2048&lt;/span&gt;	&lt;span class=&#34;comment&#34;&gt;//生成CA文件，输入两次密码（请记住）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;3-生成公钥文件&#34;&gt;&lt;a href=&#34;#3-生成公钥文件&#34; class=&#34;headerlink&#34; title=&#34;3. 生成公钥文件&#34;&gt;&lt;/a&gt;3. 生成公钥文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;openssl req -&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; -x509 -key &lt;span class=&#34;keyword&#34;&gt;private&lt;/span&gt;/my-ca.key -days &lt;span class=&#34;number&#34;&gt;365&lt;/span&gt; &amp;gt; my-ca.crt	&lt;span class=&#34;comment&#34;&gt;//生成公钥文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/33e752e42d0501a1cd602.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/33e752e42d0501a1cd602.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-创建Server-key&#34;&gt;&lt;a href=&#34;#4-创建Server-key&#34; class=&#34;headerlink&#34; title=&#34;4. 创建Server.key&#34;&gt;&lt;/a&gt;4. 创建Server.key&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;openssl genrsa -des3 -out server.key &lt;span class=&#34;number&#34;&gt;2048&lt;/span&gt;	&lt;span class=&#34;comment&#34;&gt;//创建server.key&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ls											&lt;span class=&#34;comment&#34;&gt;//查看目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;openssl rsa -noout -text -in server.key		&lt;span class=&#34;comment&#34;&gt;//不输出以text文本查看server.key，输入保护密钥&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cat server.key								&lt;span class=&#34;comment&#34;&gt;//查看&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/19e6298977aca66589e01.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/19e6298977aca66589e01.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;openssl req -&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; -key server.key -out server.csr	&lt;span class=&#34;comment&#34;&gt;//证书申请&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ls													&lt;span class=&#34;comment&#34;&gt;//查看目录&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;openssl ca -in server.csr -out server.crt			&lt;span class=&#34;comment&#34;&gt;//生成公钥文件，输入密码，两次确认&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/a8bf6e2992bbfd4c2526c.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/a8bf6e2992bbfd4c2526c.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、在DNS服务器（Server）上添加记录&#34;&gt;&lt;a href=&#34;#三、在DNS服务器（Server）上添加记录&#34; class=&#34;headerlink&#34; title=&#34;三、在DNS服务器（Server）上添加记录&#34;&gt;&lt;/a&gt;三、在DNS服务器（Server）上添加记录&lt;/h2&gt;&lt;h3 id=&#34;1-添加正向区域记录&#34;&gt;&lt;a href=&#34;#1-添加正向区域记录&#34; class=&#34;headerlink&#34; title=&#34;1. 添加正向区域记录&#34;&gt;&lt;/a&gt;1. 添加正向区域记录&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/ymx.com.zone		&lt;span class=&#34;comment&#34;&gt;//打开正向区域文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  dns ymx.com. (&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      dns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dns     A       192.168.1.10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;www     A       192.168.1.100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;web1    A       192.168.1.100				//添加这两条&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;web2    A       192.168.1.100&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    A       192.168.1.200&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ftp     CNAME   www&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    MX 10   mail&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/79f13a2e82c1327208e20.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/79f13a2e82c1327208e20.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-添加反向区域记录&#34;&gt;&lt;a href=&#34;#2-添加反向区域记录&#34; class=&#34;headerlink&#34; title=&#34;2. 添加反向区域记录&#34;&gt;&lt;/a&gt;2. 添加反向区域记录&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone	&lt;span class=&#34;comment&#34;&gt;//打开反向区域配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  dns ymx.com. (&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      dns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dns     A       192.168.1.10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10      PTR     dns.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     web1.ymx.com.				//添加这两条&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     web2.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     www.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     ftp.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;200     PTR     mail.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/72bd3ad32aabc83beac7c.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/72bd3ad32aabc83beac7c.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart named			&lt;span class=&#34;comment&#34;&gt;//重启dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;四、在Web服务器（Web-Server）上安装httpd和mod-ssl服务&#34;&gt;&lt;a href=&#34;#四、在Web服务器（Web-Server）上安装httpd和mod-ssl服务&#34; class=&#34;headerlink&#34; title=&#34;四、在Web服务器（Web Server）上安装httpd和mod_ssl服务&#34;&gt;&lt;/a&gt;四、在Web服务器（Web Server）上安装httpd和mod_ssl服务&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum -y install http mod_ssl		&lt;span class=&#34;comment&#34;&gt;//安装&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/8c3e6d256b9c4e2debcaa.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/8c3e6d256b9c4e2debcaa.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-修改ssl配置文件&#34;&gt;&lt;a href=&#34;#1-修改ssl配置文件&#34; class=&#34;headerlink&#34; title=&#34;1.修改ssl配置文件&#34;&gt;&lt;/a&gt;1.修改ssl配置文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/httpd/conf.d/ssl.conf	&lt;span class=&#34;comment&#34;&gt;//修改配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;Listen 8008 https									//监听8008端口&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;VirtualHost *:8008&amp;gt;								//虚拟主机头&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ServerName web2.ymx.com:8008						//服务器名&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DocumentRoot &amp;quot;/var/www/web2&amp;quot;						//目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SSLCertificateFile /etc/pki/CA/server.crt			//ca证书文件&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SSLCertificateKeyFile /etc/pki/CA/server.key 		//ca公钥文件&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;SSLCACertificateFile /etc/pki/CA/server.crt			//ca私钥文件&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/ed674871c8806455ad6fd.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/ed674871c8806455ad6fd.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-新建网页&#34;&gt;&lt;a href=&#34;#2-新建网页&#34; class=&#34;headerlink&#34; title=&#34;2. 新建网页&#34;&gt;&lt;/a&gt;2. 新建网页&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# mkdir /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/www/web1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# mkdir /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/www/web2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# vim /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/www/html/index.html&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# vim /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/www/web1/index.html&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# vim /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/www/web2/index.html&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;3-新建虚拟主机&#34;&gt;&lt;a href=&#34;#3-新建虚拟主机&#34; class=&#34;headerlink&#34; title=&#34;3. 新建虚拟主机&#34;&gt;&lt;/a&gt;3. 新建虚拟主机&lt;/h3&gt; &lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/httpd/conf.d/vhost.conf&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;VirtualHost www.ymx.com&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ServerName www.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DocumentRoot &amp;quot;/var/www/html&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;VirtualHost web1.ymx.com&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ServerName web1.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DocumentRoot &amp;quot;/var/www/web1&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/VirtualHost&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;Directory &amp;#x27;/var/www/web1&amp;#x27;&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Options Indexes FollowSymLinks&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;AllowOverride None&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Order allow,deny&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;allow from 192.168.1.0/24	//只允许192.168.1.0/24 通过&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;lt;/Directory&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/3398ac156559026841d36.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/3398ac156559026841d36.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# systemctl restart httpd					&lt;span class=&#34;comment&#34;&gt;//重启http服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Enter SSL pass phrase &lt;span class=&#34;keyword&#34;&gt;for&lt;/span&gt; web2.ymx.com:&lt;span class=&#34;number&#34;&gt;8008&lt;/span&gt; (RSA) : ****			&lt;span class=&#34;comment&#34;&gt;//输入密码&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# systemctl enable httpd					&lt;span class=&#34;comment&#34;&gt;//开机自启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;Created symlink from /etc/systemd/system/multi-user.target.wants/httpd.service to /usr/lib/systemd/system/httpd.service.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; webserver]# &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;5-修改httpd-conf配置文件&#34;&gt;&lt;a href=&#34;#5-修改httpd-conf配置文件&#34; class=&#34;headerlink&#34; title=&#34;5. 修改httpd.conf配置文件&#34;&gt;&lt;/a&gt;5. 修改httpd.conf配置文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# vim /etc/httpd/conf/httpd.conf &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ServerName www.ymx.com:&lt;span class=&#34;number&#34;&gt;80&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/dbfdaf9ea0c91291785a8.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/dbfdaf9ea0c91291785a8.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;6-防火墙设置&#34;&gt;&lt;a href=&#34;#6-防火墙设置&#34; class=&#34;headerlink&#34; title=&#34;6. 防火墙设置&#34;&gt;&lt;/a&gt;6. 防火墙设置&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-service=http	&lt;span class=&#34;comment&#34;&gt;//开启http&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-service=https	&lt;span class=&#34;comment&#34;&gt;//开启https&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;8008&lt;/span&gt;/tcp	&lt;span class=&#34;comment&#34;&gt;//开启8008端口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;8008&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# firewall-cmd --reload 										&lt;span class=&#34;comment&#34;&gt;//重启防火墙&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;success&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# netstat -an | grep :&lt;span class=&#34;number&#34;&gt;8008&lt;/span&gt;									&lt;span class=&#34;comment&#34;&gt;//查看端口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tcp6       &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt;      &lt;span class=&#34;number&#34;&gt;0&lt;/span&gt; :::&lt;span class=&#34;number&#34;&gt;8008&lt;/span&gt;                 :::*                    LISTEN     &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;7-复制证书文件&#34;&gt;&lt;a href=&#34;#7-复制证书文件&#34; class=&#34;headerlink&#34; title=&#34;7. 复制证书文件&#34;&gt;&lt;/a&gt;7. 复制证书文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# cd /etc/pki/CA&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[root&lt;span class=&#34;meta&#34;&gt;@webserver&lt;/span&gt; CA]# cp my-ca.crt /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/www/web1/&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;8-客户端（Client-1）导入CA证书&#34;&gt;&lt;a href=&#34;#8-客户端（Client-1）导入CA证书&#34; class=&#34;headerlink&#34; title=&#34;8. 客户端（Client 1）导入CA证书&#34;&gt;&lt;/a&gt;8. 客户端（Client 1）导入CA证书&lt;/h3&gt;&lt;h4 id=&#34;打开浏览器输入地址http-web1-ymx-com-my-ca-crt-下载证书文件并导入证书&#34;&gt;&lt;a href=&#34;#打开浏览器输入地址http-web1-ymx-com-my-ca-crt-下载证书文件并导入证书&#34; class=&#34;headerlink&#34; title=&#34;打开浏览器输入地址http://web1.ymx.com/my-ca.crt 下载证书文件并导入证书&#34;&gt;&lt;/a&gt;打开浏览器输入地址&lt;a href=&#34;http://web1.ymx.com/my-ca.crt&#34;&gt;http://web1.ymx.com/my-ca.crt&lt;/a&gt; 下载证书文件并导入证书&lt;/h4&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9ec2f9471a9bc62b2dc9c.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9ec2f9471a9bc62b2dc9c.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;9-最终效果&#34;&gt;&lt;a href=&#34;#9-最终效果&#34; class=&#34;headerlink&#34; title=&#34;9. 最终效果&#34;&gt;&lt;/a&gt;9. 最终效果&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;http：&amp;#x2F;&amp;#x2F;web1.ymx.com&lt;br&gt;&lt;a href=&#34;https://web2.ymx.com:8008/&#34;&gt;https://web2.ymx.com:8008&lt;/a&gt;&lt;/strong&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0178b6492fb0d7a243482.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0178b6492fb0d7a243482.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束&#34;&gt;&lt;a href=&#34;#至此，实验结束&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束&#34;&gt;&lt;/a&gt;至此，实验结束&lt;/h2&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/974b3ed7.html</guid>
            <title>第五章 Centos 7 Linux配置dns 实训任务：部署DNS服务器</title>
            <link>https://yeminxi.github.io/posts/974b3ed7.html</link>
            <category>服务器</category>
            <category>运维</category>
            <category>Linux</category>
            <category>CentOS</category>
            <category>网络</category>
            <category>DNS</category>
            <pubDate>Tue, 28 May 2024 04:32:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;虚拟机需求：1台服务器（Server）、1台客户端（Client1）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第四章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;部署DNS服务器&#34;&gt;&lt;a href=&#34;#部署DNS服务器&#34; class=&#34;headerlink&#34; title=&#34;部署DNS服务器&#34;&gt;&lt;/a&gt;部署DNS服务器&lt;/h2&gt;&lt;blockquote&gt;
&lt;h3 id=&#34;任务情境描述&#34;&gt;&lt;a href=&#34;#任务情境描述&#34; class=&#34;headerlink&#34; title=&#34;任务情境描述&#34;&gt;&lt;/a&gt;任务情境描述&lt;/h3&gt;&lt;p&gt;某公司要求在内部网络部署DNS服务器，用内部DNS服务器为内部网络中的计算机提供内部网络和Internet的域名解析服务。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;网络拓扑图如下：&#34;&gt;&lt;a href=&#34;#网络拓扑图如下：&#34; class=&#34;headerlink&#34; title=&#34;网络拓扑图如下：&#34;&gt;&lt;/a&gt;网络拓扑图如下：&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9a3bf5e11c452db3f7c9d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9a3bf5e11c452db3f7c9d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;环境说明：&#34;&gt;&lt;a href=&#34;#环境说明：&#34; class=&#34;headerlink&#34; title=&#34;环境说明：&#34;&gt;&lt;/a&gt;环境说明：&lt;/h3&gt;&lt;p&gt;（1） server安装CentOS 7基础设施服务器&lt;/p&gt;
&lt;p&gt;（2） client安装CentOS 7桌面环境&lt;/p&gt;
&lt;p&gt;（3） server、client均已配置网络和主机名（配置了第四章就不用配置了）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;部署信息如下：&#34;&gt;&lt;a href=&#34;#部署信息如下：&#34; class=&#34;headerlink&#34; title=&#34;部署信息如下：&#34;&gt;&lt;/a&gt;部署信息如下：&lt;/h3&gt;&lt;p&gt;（1） 公司的DNS域名为 ymx.com（或自己命名）&amp;#x2F;&amp;#x2F;这里我用了自己的，用老师的是myhost.com下面表格也要跟着改&lt;/p&gt;
&lt;p&gt;（2） 名称解释要求如下表所示：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;角色&lt;/th&gt;
&lt;th&gt;主机名&lt;/th&gt;
&lt;th&gt;IP地址&lt;/th&gt;
&lt;th&gt;备注&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;Web服务器&lt;/td&gt;
&lt;td&gt;&lt;a href=&#34;http://www.ymx.com/&#34;&gt;www.ymx.com&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;192.168.1.100&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;FTP服务器&lt;/td&gt;
&lt;td&gt;ftp.ymx.com&lt;/td&gt;
&lt;td&gt;192.168.1.100&lt;/td&gt;
&lt;td&gt;配置别名记录&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;邮件服务器&lt;/td&gt;
&lt;td&gt;mail.ymx.com&lt;/td&gt;
&lt;td&gt;192.168.1.200&lt;/td&gt;
&lt;td&gt;配置相应的交换记录&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;DNS服务器&lt;/td&gt;
&lt;td&gt;dns.ymx.com&lt;/td&gt;
&lt;td&gt;192.168.1.10&lt;/td&gt;
&lt;td&gt;DNS服务器&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务1（用前面的就不用重新配置了）&#34;&gt;&lt;a href=&#34;#任务1（用前面的就不用重新配置了）&#34; class=&#34;headerlink&#34; title=&#34;任务1（用前面的就不用重新配置了）&#34;&gt;&lt;/a&gt;任务1（用前面的就不用重新配置了）&lt;/h3&gt;&lt;p&gt;根据上图中的网络图谱配置实训环境&lt;/p&gt;
&lt;p&gt;（1） 修改计算机名&lt;/p&gt;
&lt;p&gt;（2） 配置网络&lt;/p&gt;
&lt;p&gt;（3）开启防火墙，添加对应的服务&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务2&#34;&gt;&lt;a href=&#34;#任务2&#34; class=&#34;headerlink&#34; title=&#34;任务2&#34;&gt;&lt;/a&gt;任务2&lt;/h3&gt;&lt;p&gt;在server1上安装DNS服务，并将其配置为主DNS服务器&lt;/p&gt;
&lt;p&gt;（1） 安装DNS服务&lt;/p&gt;
&lt;p&gt;（2） 创建正向查找区域，并根据上表提供的信息在区域中添加资源记录；&lt;br&gt;          创建反向查找区域，并根据上表提供的信息在区域中添加资源记录；&lt;/p&gt;
&lt;p&gt;（3） 检查区域数据文件语法错误&lt;/p&gt;
&lt;p&gt;（4） 启动&amp;#x2F;重启DNS服务&lt;/p&gt;
&lt;p&gt;（5） 开启防火墙，添加对应的服务&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务3&#34;&gt;&lt;a href=&#34;#任务3&#34; class=&#34;headerlink&#34; title=&#34;任务3&#34;&gt;&lt;/a&gt;任务3&lt;/h3&gt;&lt;p&gt;使用client对主DNS服务器进行测试&lt;/p&gt;
&lt;p&gt;（1） client网络配置&lt;/p&gt;
&lt;p&gt;（2） 在客户端执行DNS域名查询测试，对主&amp;#x2F;辅DNS均进行域名查询测试（可使用命令指令使用主NDS或服务DNS进行查询）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、在服务器（Server）上安装DNS服务&#34;&gt;&lt;a href=&#34;#一、在服务器（Server）上安装DNS服务&#34; class=&#34;headerlink&#34; title=&#34;一、在服务器（Server）上安装DNS服务&#34;&gt;&lt;/a&gt;一、在服务器（Server）上安装DNS服务&lt;/h2&gt;&lt;h3 id=&#34;1-确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;a href=&#34;#1-确保良好的网络连接也要保证设备的联网&#34; class=&#34;headerlink&#34; title=&#34;1. 确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;/a&gt;1. 确保良好的网络连接也要保证设备的联网&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum list installed | grep bind 				\\查看是否安装了dns服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install bind							\\安装dns服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/5ecdc267b84b5e1eecf9b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/5ecdc267b84b5e1eecf9b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-启动服务&#34;&gt;&lt;a href=&#34;#2-启动服务&#34; class=&#34;headerlink&#34; title=&#34;2. 启动服务&#34;&gt;&lt;/a&gt;2. 启动服务&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl start named		&lt;span class=&#34;comment&#34;&gt;//启动dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable named		&lt;span class=&#34;comment&#34;&gt;//开机自启dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b0450986f32adae814627.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b0450986f32adae814627.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34; alt=&#34;2&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-防火墙配置&#34;&gt;&lt;a href=&#34;#3-防火墙配置&#34; class=&#34;headerlink&#34; title=&#34;3. 防火墙配置&#34;&gt;&lt;/a&gt;3. 防火墙配置&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;/tcp	&lt;span class=&#34;comment&#34;&gt;//开启53端口&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-port=&lt;span class=&#34;number&#34;&gt;53&lt;/span&gt;/udp&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --reload										&lt;span class=&#34;comment&#34;&gt;//重启防火墙&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/39be9522b5ad2f238d32f.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/39be9522b5ad2f238d32f.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、在服务器（Server）上配置dns服务&#34;&gt;&lt;a href=&#34;#二、在服务器（Server）上配置dns服务&#34; class=&#34;headerlink&#34; title=&#34;二、在服务器（Server）上配置dns服务&#34;&gt;&lt;/a&gt;二、在服务器（Server）上配置dns服务&lt;/h2&gt;&lt;h3 id=&#34;1-配置全局服务实现高速缓存&#34;&gt;&lt;a href=&#34;#1-配置全局服务实现高速缓存&#34; class=&#34;headerlink&#34; title=&#34;1.配置全局服务实现高速缓存&#34;&gt;&lt;/a&gt;1.配置全局服务实现高速缓存&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/named.conf		&lt;span class=&#34;comment&#34;&gt;//打开配置文件进行如下修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkconf			&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/86b0e18dd3c088a584d48.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/86b0e18dd3c088a584d48.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;listen-on port 53 &amp;#123; any; &amp;#125;;							//改为any，named监听所有IP地址&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;allow-query     &amp;#123; any; &amp;#125;;							//改为any，接受所有客户端的查询&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;forwarders      &amp;#123;202.96.128.86;202.96.128.166;&amp;#125;;	//添加该项，配置转发器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dnssec-enable no;									//改为no，禁用dnssec&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dnssec-validation no;								&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/f8db812aa6e49d4dc1883.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/f8db812aa6e49d4dc1883.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;检查语法发现错误，是因为我第22行打错单词了，重新编辑改回去就不报错了。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;2-创建定义DNS服务器正向、反向查找区域&#34;&gt;&lt;a href=&#34;#2-创建定义DNS服务器正向、反向查找区域&#34; class=&#34;headerlink&#34; title=&#34;2. 创建定义DNS服务器正向、反向查找区域&#34;&gt;&lt;/a&gt;2. 创建定义DNS服务器正向、反向查找区域&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/named.conf		&lt;span class=&#34;comment&#34;&gt;//打开配置文件进行如下修改&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkconf			&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/4b50564b4ea5063d89f52.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/4b50564b4ea5063d89f52.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;ymx.com&amp;quot; IN &amp;#123;							//DNS域名&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;ymx.com.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;1.168.192.in-addr.arpa&amp;quot; IN &amp;#123;			//子网地址需要反写，后缀是固定的&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;1.168.192.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;myhost.com&amp;quot; IN &amp;#123;							//DNS域名&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;myhost.com.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;zone &amp;quot;1.168.192.in-addr.arpa&amp;quot; IN &amp;#123;			//子网地址需要反写，后缀是固定的&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        type master;						//区域类型为主要区域&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        file &amp;quot;1.168.192.zone&amp;quot;;				//区域数据存储文件名，位置默认为 /var/named 目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;3-创建区域数据文件&#34;&gt;&lt;a href=&#34;#3-创建区域数据文件&#34; class=&#34;headerlink&#34; title=&#34;3. 创建区域数据文件&#34;&gt;&lt;/a&gt;3. 创建区域数据文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;cd /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.localhost ymx.com.zone		&lt;span class=&#34;comment&#34;&gt;//创建正向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.loopback &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone		&lt;span class=&#34;comment&#34;&gt;//创建反向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart named					&lt;span class=&#34;comment&#34;&gt;//重启dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;cd /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.localhost myhost.com.zone	&lt;span class=&#34;comment&#34;&gt;//创建正向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;cp -a named.loopback &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone		&lt;span class=&#34;comment&#34;&gt;//创建反向区域数据文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart named					&lt;span class=&#34;comment&#34;&gt;//重启dns服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;4-编辑正向区域数据文件&#34;&gt;&lt;a href=&#34;#4-编辑正向区域数据文件&#34; class=&#34;headerlink&#34; title=&#34;4. 编辑正向区域数据文件&#34;&gt;&lt;/a&gt;4. 编辑正向区域数据文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim ymx.com.zone										&lt;span class=&#34;comment&#34;&gt;//编辑正向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone ymx.com.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/ymx.com.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/2c79ad9474f20745df0c5.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/2c79ad9474f20745df0c5.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  dns ymx.com. (									//区域授权服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      dns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dns     A       192.168.1.10									//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;www     A       192.168.1.100									//主机记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    A       192.168.1.200&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ftp     CNAME   www												//别名记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    MX 10   mail											//邮箱交换器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim myhost.com.zone											&lt;span class=&#34;comment&#34;&gt;//编辑正向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone myhost.com.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/myhost.com.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  server myhost.com. (									//区域授权服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      server&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server  A       192.168.1.10									//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;www     A       192.168.1.100									//主机记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    A       192.168.1.200&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ftp     CNAME   www												//别名记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;mail    MX 10   mail											//邮箱交换器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/d959c88b2a0ba4d313c6d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/d959c88b2a0ba4d313c6d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;5-编辑反向区域数据文件&#34;&gt;&lt;a href=&#34;#5-编辑反向区域数据文件&#34; class=&#34;headerlink&#34; title=&#34;5. 编辑反向区域数据文件&#34;&gt;&lt;/a&gt;5. 编辑反向区域数据文件&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone 											&lt;span class=&#34;comment&#34;&gt;//编辑反向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0e74a1c1bf31a363b73fc.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0e74a1c1bf31a363b73fc.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  dns ymx.com. (								//区域授权的DNS服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      dns											//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dns     A       192.168.1.10								//指针记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10      PTR     dns.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     www.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     ftp.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;200     PTR     mail.ymx.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/85bd8de0c3edd41d5bf9c.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/85bd8de0c3edd41d5bf9c.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;如是按照题目（myhost.com）来的话如下:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone 											&lt;span class=&#34;comment&#34;&gt;//编辑反向区域数据&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;named-checkzone &lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone  /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/named/&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.zone	&lt;span class=&#34;comment&#34;&gt;//检查语法&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;$TTL 1D&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;@       IN SOA  server myhost.com. (							//区域授权的DNS服务器&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        0       ; serial&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1D      ; refresh&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1H      ; retry&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        1W      ; expire&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                                        3H )    ; minimum&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        NS      server											//名称服务器记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;server  A       192.168.1.10									//指针记录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10      PTR     server.myhost.com.						&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     www.myhost.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;100     PTR     ftp.myhost.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;200     PTR     mail.myhost.com.&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;blockquote&gt;
&lt;p&gt;若语法检查无错误&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/224df854a0c755daf9fd2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/224df854a0c755daf9fd2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart named		&lt;span class=&#34;comment&#34;&gt;//重启dns服务，且无返回信息则成功&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/97139188680461f22a0fb.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/97139188680461f22a0fb.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、在客户端（Client1）上进行测试&#34;&gt;&lt;a href=&#34;#三、在客户端（Client1）上进行测试&#34; class=&#34;headerlink&#34; title=&#34;三、在客户端（Client1）上进行测试&#34;&gt;&lt;/a&gt;三、在客户端（Client1）上进行测试&lt;/h2&gt;&lt;h3 id=&#34;1-重新获取&#34;&gt;&lt;a href=&#34;#1-重新获取&#34; class=&#34;headerlink&#34; title=&#34;1. 重新获取&#34;&gt;&lt;/a&gt;1. 重新获取&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;dhclient -r						&lt;span class=&#34;comment&#34;&gt;//释放租约&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dhclient						&lt;span class=&#34;comment&#34;&gt;//重新获取租约&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tail /etc/resolv.conf			&lt;span class=&#34;comment&#34;&gt;//查看客户端使用的DNS服务器&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/c58f7e03dfb8e3bc9fabd.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/c58f7e03dfb8e3bc9fabd.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-nslookup非交互式操作&#34;&gt;&lt;a href=&#34;#2-nslookup非交互式操作&#34; class=&#34;headerlink&#34; title=&#34;2. nslookup非交互式操作&#34;&gt;&lt;/a&gt;2. nslookup非交互式操作&lt;/h3&gt;&lt;h4 id=&#34;2-1-测试正向解析&#34;&gt;&lt;a href=&#34;#2-1-测试正向解析&#34; class=&#34;headerlink&#34; title=&#34;2.1 测试正向解析&#34;&gt;&lt;/a&gt;2.1 测试正向解析&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nslookup www.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup ftp.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup mail.ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup www.baidu.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/bc4dce8064bee257697bd.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/bc4dce8064bee257697bd.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;2-2-测试反向解析&#34;&gt;&lt;a href=&#34;#2-2-测试反向解析&#34; class=&#34;headerlink&#34; title=&#34;2.2 测试反向解析&#34;&gt;&lt;/a&gt;2.2 测试反向解析&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;202.108&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.22&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.5&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.100&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;nslookup &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.200&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/bedfef08fa7af8e7af35e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/bedfef08fa7af8e7af35e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-nslookup交互式操作（知道就好不用做）&#34;&gt;&lt;a href=&#34;#3-nslookup交互式操作（知道就好不用做）&#34; class=&#34;headerlink&#34; title=&#34;3. nslookup交互式操作（知道就好不用做）&#34;&gt;&lt;/a&gt;3. nslookup交互式操作（知道就好不用做）&lt;/h3&gt;&lt;h4 id=&#34;3-1-查看所有配置&#34;&gt;&lt;a href=&#34;#3-1-查看所有配置&#34; class=&#34;headerlink&#34; title=&#34;3.1 查看所有配置&#34;&gt;&lt;/a&gt;3.1 查看所有配置&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nslookup&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;set all&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0d52dfe4f10aa0e388467.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0d52dfe4f10aa0e388467.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-2-查询主机名www-ymx-com&#34;&gt;&lt;a href=&#34;#3-2-查询主机名www-ymx-com&#34; class=&#34;headerlink&#34; title=&#34;3.2 查询主机名www.ymx.com&#34;&gt;&lt;/a&gt;3.2 查询主机名&lt;a href=&#34;http://www.ymx.com/&#34;&gt;www.ymx.com&lt;/a&gt;&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;www.ymx.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/3db5d9ca1f855e5b61f8b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/3db5d9ca1f855e5b61f8b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-3-查询ymx-com区域授权记录&#34;&gt;&lt;a href=&#34;#3-3-查询ymx-com区域授权记录&#34; class=&#34;headerlink&#34; title=&#34;3.3 查询ymx.com区域授权记录&#34;&gt;&lt;/a&gt;3.3 查询ymx.com区域授权记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;set type=soa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ymx.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b4b78740bc024a8a81610.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b4b78740bc024a8a81610.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-4-查询1-168-192-in-addr-arpa区域授权记录&#34;&gt;&lt;a href=&#34;#3-4-查询1-168-192-in-addr-arpa区域授权记录&#34; class=&#34;headerlink&#34; title=&#34;3.4 查询1.168.192.in-addr.arpa区域授权记录&#34;&gt;&lt;/a&gt;3.4 查询1.168.192.in-addr.arpa区域授权记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.in-addr.arpa&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cde1584ef3d609a9520df.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cde1584ef3d609a9520df.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-5-查询邮箱交换器记录&#34;&gt;&lt;a href=&#34;#3-5-查询邮箱交换器记录&#34; class=&#34;headerlink&#34; title=&#34;3.5 查询邮箱交换器记录&#34;&gt;&lt;/a&gt;3.5 查询邮箱交换器记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;set type=mx&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ymx.com&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/663745b9f94e4326cad32.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/663745b9f94e4326cad32.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;3-6-查询名称服务器记录&#34;&gt;&lt;a href=&#34;#3-6-查询名称服务器记录&#34; class=&#34;headerlink&#34; title=&#34;3.6 查询名称服务器记录&#34;&gt;&lt;/a&gt;3.6 查询名称服务器记录&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;set type=ns&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ymx.com&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;number&#34;&gt;1.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;.in-addr.arpa&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;exit							&lt;span class=&#34;comment&#34;&gt;//退出&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/04bad564727027d52486b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/04bad564727027d52486b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/6d7d2758.html</guid>
            <title>第四章 Centos 7 Linux配置dhcp 实训任务1：使用DHCP中继部署多子网环境</title>
            <link>https://yeminxi.github.io/posts/6d7d2758.html</link>
            <category>服务器</category>
            <category>Linux</category>
            <category>CentOS</category>
            <category>网络安全</category>
            <category>网络协议</category>
            <category>DHCP</category>
            <pubDate>Tue, 28 May 2024 04:05:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;虚拟机需求：1台服务器（Server）、1台中继服务器（Relay Server）、2台客户端（Client1、Client2）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第三章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;实训任务1：DHCP中继部署&#34;&gt;&lt;a href=&#34;#实训任务1：DHCP中继部署&#34; class=&#34;headerlink&#34; title=&#34;实训任务1：DHCP中继部署&#34;&gt;&lt;/a&gt;实训任务1：DHCP中继部署&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;任务情境描述：为校园网1号办公楼和2号办公楼的网络设备分配地址，客户端Client1和Client2可通过DHCP服务器分配地址。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;网络拓扑如下：&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/2c4a6b1900d6ad809395d.png&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/2c4a6b1900d6ad809395d.png&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务要求：&#34;&gt;&lt;a href=&#34;#任务要求：&#34; class=&#34;headerlink&#34; title=&#34;任务要求：&#34;&gt;&lt;/a&gt;任务要求：&lt;/h3&gt;&lt;p&gt;1号楼地址池范围：192.168.1.110-192.168.1.190&amp;#x2F;24，网关：192.168.1.2；&lt;/p&gt;
&lt;p&gt;2号楼地址池范围：192.168.2.100-192.168.2.200&amp;#x2F;24，网关：192.168.2.254；&lt;/p&gt;
&lt;p&gt;域名解析服务器：192.168.1.10和192.168.1.11；&lt;/p&gt;
&lt;p&gt;为Client1动态分配地址，Client2用户分配固定地址，地址为 192.168.2.188&amp;#x2F;24。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;检查要求：-会查看客户端和服务器端的租约文件，并理解租约信息。&#34;&gt;&lt;a href=&#34;#检查要求：-会查看客户端和服务器端的租约文件，并理解租约信息。&#34; class=&#34;headerlink&#34; title=&#34;检查要求： 会查看客户端和服务器端的租约文件，并理解租约信息。&#34;&gt;&lt;/a&gt;检查要求： 会查看客户端和服务器端的租约文件，并理解租约信息。&lt;/h3&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务提示：&#34;&gt;&lt;a href=&#34;#任务提示：&#34; class=&#34;headerlink&#34; title=&#34;任务提示：&#34;&gt;&lt;/a&gt;任务提示：&lt;/h3&gt;&lt;p&gt;DHCP Relay设备配置两张网卡，分别为192.168.1.254和192.168.2.10&lt;/p&gt;
&lt;p&gt;并在&amp;#x2F;etc&amp;#x2F;sysctl.conf中添加：&lt;/p&gt;
&lt;p&gt;net.ipv4.ip_forward&amp;#x3D;1            &amp;#x2F;&amp;#x2F;全网通&lt;/p&gt;
&lt;p&gt;保存后，重新加载系统参数&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;#sysctl -p &lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;注意事项：&#34;&gt;&lt;a href=&#34;#注意事项：&#34; class=&#34;headerlink&#34; title=&#34;注意事项：&#34;&gt;&lt;/a&gt;注意事项：&lt;/h3&gt;&lt;p&gt;192.168.1.0&amp;#x2F;24网络适配器选择NAT模式；&lt;/p&gt;
&lt;p&gt;192.168.2.0&amp;#x2F;24网络适配器选择仅主机模式；&lt;/p&gt;
&lt;p&gt;Client1和Client2可以是独立的主机（资源允许），也可以通过在Server和Relay端添加网卡的形式，模拟客户端网卡。&lt;br&gt;这次实验一共4台虚拟机&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、在服务器（Server）和中继服务器（Relay-Server）上安装dhcp服务&#34;&gt;&lt;a href=&#34;#一、在服务器（Server）和中继服务器（Relay-Server）上安装dhcp服务&#34; class=&#34;headerlink&#34; title=&#34;一、在服务器（Server）和中继服务器（Relay Server）上安装dhcp服务&#34;&gt;&lt;/a&gt;一、在服务器（Server）和中继服务器（Relay Server）上安装dhcp服务&lt;/h2&gt;&lt;h3 id=&#34;1-中继服务器安装双网卡详细看第一章-十五、中继服务器安装，和这里的方法如下：&#34;&gt;&lt;a href=&#34;#1-中继服务器安装双网卡详细看第一章-十五、中继服务器安装，和这里的方法如下：&#34; class=&#34;headerlink&#34; title=&#34;1. 中继服务器安装双网卡详细看第一章 十五、中继服务器安装，和这里的方法如下：&#34;&gt;&lt;/a&gt;1. 中继服务器安装双网卡详细看&lt;a href=&#34;https://yeminxi.github.io/posts/6404ce4b.html#%E5%8D%81%E4%BA%94%E3%80%81%E4%B8%AD%E7%BB%A7%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%AE%89%E8%A3%85%E5%8F%AF%E4%BB%A5%E5%8F%82%E8%80%83%E8%BF%99%E4%B8%80%E6%AD%A5%EF%BC%88%E5%85%B6%E4%BD%99%E5%8F%AF%E5%BF%BD%E7%95%A5%E6%AD%A4%E6%AD%A5%EF%BC%89&#34;&gt;第一章 十五、中继服务器安装&lt;/a&gt;，和这里的方法如下：&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/ef909f36a743f0f0de307.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/ef909f36a743f0f0de307.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/dcd03e417ded2a5ed11c2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/dcd03e417ded2a5ed11c2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;nmtui	&lt;span class=&#34;comment&#34;&gt;//进入图形化设置&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/39cc7a39eb18d2cc64be1.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/39cc7a39eb18d2cc64be1.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;网卡会激活失败，原因是自动获取的，我已经关掉虚拟网络的dhcp服务，所以在另外在网卡脚本文件配置静态的IP的地址&lt;/p&gt;
&lt;h3 id=&#34;2-给中继服务器（Relay-Server）双网卡配置静态ip地址&#34;&gt;&lt;a href=&#34;#2-给中继服务器（Relay-Server）双网卡配置静态ip地址&#34; class=&#34;headerlink&#34; title=&#34;2. 给中继服务器（Relay Server）双网卡配置静态ip地址&#34;&gt;&lt;/a&gt;2. 给中继服务器（Relay Server）双网卡配置静态ip地址&lt;/h3&gt;&lt;h4 id=&#34;2-1-配置NAT模式下的网卡静态地址&#34;&gt;&lt;a href=&#34;#2-1-配置NAT模式下的网卡静态地址&#34; class=&#34;headerlink&#34; title=&#34;2.1 配置NAT模式下的网卡静态地址&#34;&gt;&lt;/a&gt;2.1 配置NAT模式下的网卡静态地址&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/sysconfig/network-scripts/ifcfg-ens33	&lt;span class=&#34;comment&#34;&gt;//每个人的网卡名称都不一样 一切按时来&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/sysconfig/network-scripts/ifcfg-ens34	&lt;span class=&#34;comment&#34;&gt;//我这里的 ens开头的 33是NAT模式的 34是仅主机模式的&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
 &lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt; BOOTPROTO=&amp;quot;static&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ONBOOT=&amp;quot;yes&amp;quot; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; IPADDR=192.168.1.254&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=192.168.1.2 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=202.96.128.86（电信）	联通：221.5.88.88	移动：211.136.192.6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS2=114.114.114.114&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/bfcb6eb556c27643f78b0.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/bfcb6eb556c27643f78b0.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;2-2-配置仅主机模式下的网卡静态地址&#34;&gt;&lt;a href=&#34;#2-2-配置仅主机模式下的网卡静态地址&#34; class=&#34;headerlink&#34; title=&#34;2.2 配置仅主机模式下的网卡静态地址&#34;&gt;&lt;/a&gt;2.2 配置仅主机模式下的网卡静态地址&lt;/h4&gt;&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=static  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ONBOOT=yes &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=192.168.2.10 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMASK=255.255.255.0&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=192.168.2.254 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=202.96.128.86 &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS2=114.114.114.114&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/019007884e77bb7b5b675.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/019007884e77bb7b5b675.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h4 id=&#34;2-3-重启网络服务并ping通服务器（Server）&#34;&gt;&lt;a href=&#34;#2-3-重启网络服务并ping通服务器（Server）&#34; class=&#34;headerlink&#34; title=&#34;2.3 重启网络服务并ping通服务器（Server）&#34;&gt;&lt;/a&gt;2.3 重启网络服务并ping通服务器（Server）&lt;/h4&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart network	&lt;span class=&#34;comment&#34;&gt;//重启网络&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ping &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;			&lt;span class=&#34;comment&#34;&gt;//ping服务器（server）&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/8fb6128a292c6a041f59e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/8fb6128a292c6a041f59e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-在服务器（Server）上安装dhcp服务（确保良好的网络连接也要保证设备的联网）&#34;&gt;&lt;a href=&#34;#3-在服务器（Server）上安装dhcp服务（确保良好的网络连接也要保证设备的联网）&#34; class=&#34;headerlink&#34; title=&#34;3. 在服务器（Server）上安装dhcp服务（确保良好的网络连接也要保证设备的联网）&#34;&gt;&lt;/a&gt;3. 在服务器（Server）上安装dhcp服务（确保良好的网络连接也要保证设备的联网）&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum list installed | grep dhcp 				\\查看是否安装了dhcp服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install dhcp							\\安装dhcp服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/daf676459987d8c9788f7.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/daf676459987d8c9788f7.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-中继服务器（Relay-Server）同理&#34;&gt;&lt;a href=&#34;#4-中继服务器（Relay-Server）同理&#34; class=&#34;headerlink&#34; title=&#34;4. 中继服务器（Relay Server）同理&#34;&gt;&lt;/a&gt;4. 中继服务器（Relay Server）同理&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum list installed | grep dhcp 				\\查看是否安装了dhcp服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install dhcp							\\安装dhcp服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/816a35a72b3b878410f1a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/816a35a72b3b878410f1a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、在服务器（Server）上配置地址池&#34;&gt;&lt;a href=&#34;#二、在服务器（Server）上配置地址池&#34; class=&#34;headerlink&#34; title=&#34;二、在服务器（Server）上配置地址池&#34;&gt;&lt;/a&gt;二、在服务器（Server）上配置地址池&lt;/h2&gt;&lt;h3 id=&#34;1-添加地址池&#34;&gt;&lt;a href=&#34;#1-添加地址池&#34; class=&#34;headerlink&#34; title=&#34;1. 添加地址池&#34;&gt;&lt;/a&gt;1. 添加地址池&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/dhcp/dhcpd.conf	&lt;span class=&#34;comment&#34;&gt;//打开配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;figure class=&#34;highlight plaintext&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;option domain-name &amp;quot;example.org&amp;quot;; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;option domain-name-servers 192.168.1.10,192.168.1.11; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;default-lease-time 600; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;max-lease-time 7200; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;subnet 192.168.1.0 netmask 255.255.255.0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         range 192.168.1.110 192.168.1.190;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         option routers 192.168.1.2; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;subnet 192.168.2.0 netmask 255.255.255.0 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         range 192.168.2.100 192.168.2.200;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         option routers 192.168.2.254;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         host client2 &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                 hardware ethernet 00:0C:29:B4:04:A7;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                 fixed-address 192.168.2.188;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;         &amp;#125; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/89a9106274ae0ae7e69fa.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/89a9106274ae0ae7e69fa.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/2849076a51d687cbe3ef6.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/2849076a51d687cbe3ef6.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;dhcpd -t	&lt;span class=&#34;comment&#34;&gt;//检查语法错误&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/48c7ca2f478a42b60f0fb.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/48c7ca2f478a42b60f0fb.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34; alt=&#34;12&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-重启dhcp服务并自启&#34;&gt;&lt;a href=&#34;#2-重启dhcp服务并自启&#34; class=&#34;headerlink&#34; title=&#34;2.重启dhcp服务并自启&#34;&gt;&lt;/a&gt;2.重启dhcp服务并自启&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart dhcpd		&lt;span class=&#34;comment&#34;&gt;//重启dhcp服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable dhcpd		&lt;span class=&#34;comment&#34;&gt;//开机自启dhcp服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/25ddedc58967347ad8864.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/25ddedc58967347ad8864.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34; alt=&#34;13&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-添加默认路由&#34;&gt;&lt;a href=&#34;#3-添加默认路由&#34; class=&#34;headerlink&#34; title=&#34;3. 添加默认路由&#34;&gt;&lt;/a&gt;3. 添加默认路由&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;route add &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; gw &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.254&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;route add &lt;span class=&#34;keyword&#34;&gt;default&lt;/span&gt; gw &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.2&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&#34;三、在中继服务器（Relay-Server）配置中继服务&#34;&gt;&lt;a href=&#34;#三、在中继服务器（Relay-Server）配置中继服务&#34; class=&#34;headerlink&#34; title=&#34;三、在中继服务器（Relay Server）配置中继服务&#34;&gt;&lt;/a&gt;三、在中继服务器（Relay Server）配置中继服务&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;cp /lib/systemd/system/dhcrelay.service /etc/systemd/system   &lt;span class=&#34;comment&#34;&gt;//将dhcp中继主配文件复制&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/systemd/system/dhcrelay.service                      &lt;span class=&#34;comment&#34;&gt;//编辑dhcp中继主配文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/ca7d379a64e67581a179a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/ca7d379a64e67581a179a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34; alt=&#34;14&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl daemon-reload					&lt;span class=&#34;comment&#34;&gt;//重载&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl start dhcrelay.service		&lt;span class=&#34;comment&#34;&gt;//启动中继服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable dhcrelay.service		&lt;span class=&#34;comment&#34;&gt;//开机自启中继服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cd3d4cb9ab67782678448.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cd3d4cb9ab67782678448.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/sysctl.conf	&lt;span class=&#34;comment&#34;&gt;//打开配置文件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;string&#34;&gt;&amp;quot;net.ipv4.ip_forward=1&amp;quot;&lt;/span&gt;	&lt;span class=&#34;comment&#34;&gt;//加入这一句话&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;sysctl -p				&lt;span class=&#34;comment&#34;&gt;//重载&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dhcrelay &lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;	&lt;span class=&#34;comment&#34;&gt;//开启中继&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/f0d887b30fc6bf24b72cf.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/f0d887b30fc6bf24b72cf.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;四、验证&#34;&gt;&lt;a href=&#34;#四、验证&#34; class=&#34;headerlink&#34; title=&#34;四、验证&#34;&gt;&lt;/a&gt;四、验证&lt;/h2&gt;&lt;h3 id=&#34;1-客户端（Client1）验证&#34;&gt;&lt;a href=&#34;#1-客户端（Client1）验证&#34; class=&#34;headerlink&#34; title=&#34;1.客户端（Client1）验证&#34;&gt;&lt;/a&gt;1.客户端（Client1）验证&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/sysconfig/network-scripts/ifcfg-ens33	&lt;span class=&#34;comment&#34;&gt;//打开网卡配置脚本 将之前的静态地址改成dhcp&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart network						&lt;span class=&#34;comment&#34;&gt;//重启网络服务&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/c58156bc744386a035a96.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/c58156bc744386a035a96.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;dhclient -r								&lt;span class=&#34;comment&#34;&gt;//释放租约&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;dhclient								&lt;span class=&#34;comment&#34;&gt;//重新获取租约&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ip addr show ens33						&lt;span class=&#34;comment&#34;&gt;//查看网卡ens33的状态&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;tail /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/lib/dhclient/dhclient.leases	&lt;span class=&#34;comment&#34;&gt;//查看租约&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/316ddce30f37e5bd60544.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/316ddce30f37e5bd60544.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-客户端（Client2）验证同理，这里就不演示了。下面展示一下window7怎么获取。&#34;&gt;&lt;a href=&#34;#2-客户端（Client2）验证同理，这里就不演示了。下面展示一下window7怎么获取。&#34; class=&#34;headerlink&#34; title=&#34;2.客户端（Client2）验证同理，这里就不演示了。下面展示一下window7怎么获取。&#34;&gt;&lt;/a&gt;2.客户端（Client2）验证同理，这里就不演示了。下面展示一下window7怎么获取。&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/6679c9e4c47bdfc4737e2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/6679c9e4c47bdfc4737e2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;查看租约&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/3af11b4bebffa7415db95.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/3af11b4bebffa7415db95.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-服务器（Server）查看租约&#34;&gt;&lt;a href=&#34;#3-服务器（Server）查看租约&#34; class=&#34;headerlink&#34; title=&#34;3.服务器（Server）查看租约&#34;&gt;&lt;/a&gt;3.服务器（Server）查看租约&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;tail /&lt;span class=&#34;keyword&#34;&gt;var&lt;/span&gt;/lib/dhcpd/dhcpd.leases&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/5f214d3684934287efed3.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/5f214d3684934287efed3.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/cfebefbe.html</guid>
            <title>第三章 Centos 7 Linux配置samba 实训任务1：配置Samba服务</title>
            <link>https://yeminxi.github.io/posts/cfebefbe.html</link>
            <category>服务器</category>
            <category>运维</category>
            <category>Linux</category>
            <category>CentOS</category>
            <category>网络</category>
            <category>Samba</category>
            <pubDate>Tue, 28 May 2024 03:48:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;虚拟机需求：1台服务器（Server）、1台客户端（Client）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;在第二章的基础上继续实训&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;实训任务1：配置Samba服务&#34;&gt;&lt;a href=&#34;#实训任务1：配置Samba服务&#34; class=&#34;headerlink&#34; title=&#34;实训任务1：配置Samba服务&#34;&gt;&lt;/a&gt;实训任务1：配置Samba服务&lt;/h2&gt;&lt;blockquote&gt;
&lt;h3 id=&#34;任务1-创建Samba共享，本地目录为-data-share，要求：&#34;&gt;&lt;a href=&#34;#任务1-创建Samba共享，本地目录为-data-share，要求：&#34; class=&#34;headerlink&#34; title=&#34;任务1 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;share，要求：&#34;&gt;&lt;/a&gt;任务1 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;share，要求：&lt;/h3&gt;&lt;p&gt;共享名为share1&lt;br&gt;仅允许zsuser用户能上传文件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务2-创建Samba共享，本地目录为-data-public，要求：&#34;&gt;&lt;a href=&#34;#任务2-创建Samba共享，本地目录为-data-public，要求：&#34; class=&#34;headerlink&#34; title=&#34;任务2 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;public，要求：&#34;&gt;&lt;/a&gt;任务2 创建Samba共享，本地目录为&amp;#x2F;data&amp;#x2F;public，要求：&lt;/h3&gt;&lt;p&gt;共享名为public&lt;/p&gt;
&lt;p&gt;允许匿名访问&lt;/p&gt;
&lt;p&gt;所有用户都能上传文件&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、在服务器（Server）上安装Samba服务&#34;&gt;&lt;a href=&#34;#一、在服务器（Server）上安装Samba服务&#34; class=&#34;headerlink&#34; title=&#34;一、在服务器（Server）上安装Samba服务&#34;&gt;&lt;/a&gt;一、在服务器（Server）上安装Samba服务&lt;/h2&gt;&lt;h3 id=&#34;1-确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;a href=&#34;#1-确保良好的网络连接也要保证设备的联网&#34; class=&#34;headerlink&#34; title=&#34;1. 确保良好的网络连接也要保证设备的联网&#34;&gt;&lt;/a&gt;1. 确保良好的网络连接也要保证设备的联网&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum list installed | grep samba 				\\查看是否安装了samba服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;yum -y install samba							\\安装samba服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/8703f6d6f03de11ce6cd0.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/8703f6d6f03de11ce6cd0.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-防火墙设置&#34;&gt;&lt;a href=&#34;#2-防火墙设置&#34; class=&#34;headerlink&#34; title=&#34;2. 防火墙设置&#34;&gt;&lt;/a&gt;2. 防火墙设置&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --permanent --zone=&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt; --add-service=samba		\\开启samba服务 允许通过&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --reload											\\重启防火墙&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1542ac9641fa09b4280d1.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1542ac9641fa09b4280d1.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-开启samba服务&#34;&gt;&lt;a href=&#34;#3-开启samba服务&#34; class=&#34;headerlink&#34; title=&#34;3. 开启samba服务&#34;&gt;&lt;/a&gt;3. 开启samba服务&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;systemctl start smb nmb					\\开启samba服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable smb nmb				\\开机自启samba服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0b672eb5283341ecba40d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0b672eb5283341ecba40d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-创建samba用户&#34;&gt;&lt;a href=&#34;#4-创建samba用户&#34; class=&#34;headerlink&#34; title=&#34;4. 创建samba用户&#34;&gt;&lt;/a&gt;4. 创建samba用户&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;useradd zsuser				\\添加zsuser用户&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;smbpasswd -a zsuser			\\为zsuser用户添加密码&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;useradd tom					\\添加多一个用户好测试&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;smbpasswd -a tom			\\设置密码&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1eea16dcab85fe84a94aa.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1eea16dcab85fe84a94aa.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、在服务器（Server）上创建samba共享目录&#34;&gt;&lt;a href=&#34;#二、在服务器（Server）上创建samba共享目录&#34; class=&#34;headerlink&#34; title=&#34;二、在服务器（Server）上创建samba共享目录&#34;&gt;&lt;/a&gt;二、在服务器（Server）上创建samba共享目录&lt;/h2&gt;&lt;h3 id=&#34;1-创建share、public目录&#34;&gt;&lt;a href=&#34;#1-创建share、public目录&#34; class=&#34;headerlink&#34; title=&#34;1. 创建share、public目录&#34;&gt;&lt;/a&gt;1. 创建share、public目录&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;mkdir /data /data/share/ /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;/				\\创建share、&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;chmod &lt;span class=&#34;number&#34;&gt;777&lt;/span&gt; /data /data/share/ /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;/			\\设置目录权限&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/ae1a02daba7ce86ac7934.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/ae1a02daba7ce86ac7934.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-创建share1、public共享目录&#34;&gt;&lt;a href=&#34;#2-创建share1、public共享目录&#34; class=&#34;headerlink&#34; title=&#34;2. 创建share1、public共享目录&#34;&gt;&lt;/a&gt;2. 创建share1、public共享目录&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/samba/smb.conf				\\编辑配置文件详细内容如下所示&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[global]					\\在全局变量中加入&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;map &lt;span class=&#34;type&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;guest&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; bad user		\\开启匿名访问&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[share1]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        comment = share1	\\共享注释&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        path = /data/share	\\指定共享目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;type&#34;&gt;write&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;list&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; zsuser	\\写入列表&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        writable = no		\\不支持写入数据（列表中写读，不在列表只读）&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;[&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        comment = &lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;	\\共享注释&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        path = /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;	\\指定共享目录&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;type&#34;&gt;guest&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;ok&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; yes		\\允许匿名访问&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        browseable = yes	\\所有人可见&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        writeable = yes		\\支持写入数据&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;        &lt;span class=&#34;type&#34;&gt;read&lt;/span&gt; &lt;span class=&#34;variable&#34;&gt;only&lt;/span&gt; &lt;span class=&#34;operator&#34;&gt;=&lt;/span&gt; no		\\是否可读&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/2f5eb2de14ebbab215b92.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/2f5eb2de14ebbab215b92.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-检查语法错误跟重启samba服务&#34;&gt;&lt;a href=&#34;#3-检查语法错误跟重启samba服务&#34; class=&#34;headerlink&#34; title=&#34;3. 检查语法错误跟重启samba服务&#34;&gt;&lt;/a&gt;3. 检查语法错误跟重启samba服务&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;testparm							\\检查语法错误&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart sbm nmb			\\重启samba服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/89a4b66e91f45918dd916.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/89a4b66e91f45918dd916.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-配置selinux&#34;&gt;&lt;a href=&#34;#4-配置selinux&#34; class=&#34;headerlink&#34; title=&#34;4. 配置selinux&#34;&gt;&lt;/a&gt;4. 配置selinux&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;setenforce &lt;span class=&#34;number&#34;&gt;1&lt;/span&gt;											&lt;span class=&#34;comment&#34;&gt;//开启&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ls -ldZ /data/share /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;						&lt;span class=&#34;comment&#34;&gt;//查看文件夹安全上下文&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;chcon -t samba_share_t /data/share /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;			&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//为/data/share设置samba_share_t标签目录，使selinux允许samba读和写这个目录。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//为/data/public设置samba_share_t标签目录，使selinux允许samba读和写这个目录。&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ls -ldZ /data/share /data/&lt;span class=&#34;keyword&#34;&gt;public&lt;/span&gt;						&lt;span class=&#34;comment&#34;&gt;//查看文件夹安全上下文&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/bfe396cae2869d5149a97.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/bfe396cae2869d5149a97.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、在客户机（Client）上测试&#34;&gt;&lt;a href=&#34;#三、在客户机（Client）上测试&#34; class=&#34;headerlink&#34; title=&#34;三、在客户机（Client）上测试&#34;&gt;&lt;/a&gt;三、在客户机（Client）上测试&lt;/h2&gt;&lt;h3 id=&#34;1-测试-任务1&#34;&gt;&lt;a href=&#34;#1-测试-任务1&#34; class=&#34;headerlink&#34; title=&#34;1. 测试 任务1&#34;&gt;&lt;/a&gt;1. 测试 任务1&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;smbclient &amp;#x2F;&amp;#x2F;192.168.1.10&amp;#x2F;share1 -U zsuser				&amp;#x3D;&amp;#x3D;使用zsuser用户访问samba服务&amp;#x3D;&amp;#x3D;&lt;br&gt;mkdir test 																&amp;#x3D;&amp;#x3D;测试是否能创建test文件夹&amp;#x3D;&amp;#x3D;&lt;br&gt;ls 																				&amp;#x3D;&amp;#x3D;查看列表 显示test文件夹 证明成功&amp;#x3D;&amp;#x3D;&lt;br&gt;exit 																			&amp;#x3D;&amp;#x3D;退出&amp;#x3D;&amp;#x3D;	&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;smbclient&amp;#x2F;&amp;#x2F;192.168.1.10&amp;#x2F;share1 -U tom 					&amp;#x3D;&amp;#x3D;使用tom用户访问samba服务&amp;#x3D;&amp;#x3D;&lt;br&gt;mkdir test1 																&amp;#x3D;&amp;#x3D;测试是否能创建test1文件夹&amp;#x3D;&amp;#x3D;&lt;br&gt;ls 																				&amp;#x3D;&amp;#x3D;查看列表 不显示test1文件夹 证明除了zsuser用户能写入其余用户不能写入只能读&amp;#x3D;&amp;#x3D;&lt;br&gt;exit																			&amp;#x3D;&amp;#x3D;退出&amp;#x3D;&amp;#x3D;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/5d43a1d78cd30590d6e82.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/5d43a1d78cd30590d6e82.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-测试-任务2&#34;&gt;&lt;a href=&#34;#2-测试-任务2&#34; class=&#34;headerlink&#34; title=&#34;2. 测试 任务2&#34;&gt;&lt;/a&gt;2. 测试 任务2&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;smbclient&amp;#x2F;&amp;#x2F;192.168.1.10&amp;#x2F;share1 -U guest					&amp;#x3D;&amp;#x3D;使用匿名用户访问samba服务&amp;#x3D;&amp;#x3D;&lt;br&gt;mkdir test1 																&amp;#x3D;&amp;#x3D;测试是否能创建test1文件夹&amp;#x3D;&amp;#x3D;&lt;br&gt;ls 																				&amp;#x3D;&amp;#x3D;查看列表 显示test1文件夹 证明所有用户都能读写&amp;#x3D;&amp;#x3D;&lt;br&gt;exit																			&amp;#x3D;&amp;#x3D;退出&amp;#x3D;&amp;#x3D;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/7af823ce5f86eecd47f75.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/7af823ce5f86eecd47f75.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-windows-7-测试&#34;&gt;&lt;a href=&#34;#3-windows-7-测试&#34; class=&#34;headerlink&#34; title=&#34;3. windows 7 测试&#34;&gt;&lt;/a&gt;3. windows 7 测试&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cde9ec53b36cd2bd6147f.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cde9ec53b36cd2bd6147f.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;至此，实验结束。&#34;&gt;&lt;a href=&#34;#至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;至此，实验结束。&#34;&gt;&lt;/a&gt;至此，实验结束。&lt;/h2&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/c38d1213.html</guid>
            <title>第二章_Centos 7 Linux配置ssh 实训任务：SSH的安全配置</title>
            <link>https://yeminxi.github.io/posts/c38d1213.html</link>
            <category>服务器</category>
            <category>Linux</category>
            <category>CentOS</category>
            <category>安全</category>
            <category>SSH</category>
            <pubDate>Tue, 28 May 2024 03:21:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言&#34;&gt;&lt;a href=&#34;#前言&#34; class=&#34;headerlink&#34; title=&#34;前言&#34;&gt;&lt;/a&gt;前言&lt;/h1&gt;&lt;p&gt;虚拟机需求：1台服务器（Server）、1台客户端（Client）&lt;/p&gt;
&lt;blockquote&gt;
&lt;h2 id=&#34;实训任务2：SSH的安全配置&#34;&gt;&lt;a href=&#34;#实训任务2：SSH的安全配置&#34; class=&#34;headerlink&#34; title=&#34;实训任务2：SSH的安全配置&#34;&gt;&lt;/a&gt;实训任务2：SSH的安全配置&lt;/h2&gt;&lt;h3 id=&#34;任务情境描述-某公司管理员已经将自己个人电脑免密登录到远程服务器。&#34;&gt;&lt;a href=&#34;#任务情境描述-某公司管理员已经将自己个人电脑免密登录到远程服务器。&#34; class=&#34;headerlink&#34; title=&#34;任务情境描述 某公司管理员已经将自己个人电脑免密登录到远程服务器。&#34;&gt;&lt;/a&gt;任务情境描述 某公司管理员已经将自己个人电脑免密登录到远程服务器。&lt;/h3&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/223c1ea91948fb2ec3a2e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/223c1ea91948fb2ec3a2e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;服务器地址为192.168.1.10&amp;#x2F;24（IP地址可自行设置）&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;管理员PC地址为192.168.1.20&amp;#x2F;24（IP地址可自行设置）&lt;/strong&gt;&lt;br&gt;&lt;strong&gt;管理员ID为admin，密码为password&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;h3 id=&#34;任务需求：&#34;&gt;&lt;a href=&#34;#任务需求：&#34; class=&#34;headerlink&#34; title=&#34;任务需求：&#34;&gt;&lt;/a&gt;任务需求：&lt;/h3&gt;&lt;h4 id=&#34;（1）为了让SSH更安全，需要修改SSH的端口为61234；&#34;&gt;&lt;a href=&#34;#（1）为了让SSH更安全，需要修改SSH的端口为61234；&#34; class=&#34;headerlink&#34; title=&#34;（1）为了让SSH更安全，需要修改SSH的端口为61234；&#34;&gt;&lt;/a&gt;（1）为了让SSH更安全，需要修改SSH的端口为61234；&lt;/h4&gt;&lt;h4 id=&#34;（2）限制SSH服务器只能由管理员PC通过admin用户登录，其他用户均无法远程访问服务器。&#34;&gt;&lt;a href=&#34;#（2）限制SSH服务器只能由管理员PC通过admin用户登录，其他用户均无法远程访问服务器。&#34; class=&#34;headerlink&#34; title=&#34;（2）限制SSH服务器只能由管理员PC通过admin用户登录，其他用户均无法远程访问服务器。&#34;&gt;&lt;/a&gt;（2）限制SSH服务器只能由管理员PC通过admin用户登录，其他用户均无法远程访问服务器。&lt;/h4&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;请完成配置，并提交实验报告。（线下课程随堂检查） 若没有安装Centos 7 虚拟机 请单击此处 有详细的安装教程&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、配置虚拟网络（可自行设置）&#34;&gt;&lt;a href=&#34;#一、配置虚拟网络（可自行设置）&#34; class=&#34;headerlink&#34; title=&#34;一、配置虚拟网络（可自行设置）&#34;&gt;&lt;/a&gt;一、配置虚拟网络（可自行设置）&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/fed0bb0a28d20213b36af.png&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/fed0bb0a28d20213b36af.png&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1e065255b4baed349e831.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1e065255b4baed349e831.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34; alt=&#34;不勾选使用本地DHCP服务 按题目需求修改IP地址&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;1-修改NAT模式的子网IP：192-168-1-0-子网掩码：255-255-255-0&#34;&gt;&lt;a href=&#34;#1-修改NAT模式的子网IP：192-168-1-0-子网掩码：255-255-255-0&#34; class=&#34;headerlink&#34; title=&#34;1. 修改NAT模式的子网IP：192.168.1.0 子网掩码：255.255.255.0&#34;&gt;&lt;/a&gt;1. 修改NAT模式的子网IP：192.168.1.0 子网掩码：255.255.255.0&lt;/h3&gt;&lt;h3 id=&#34;2-取消勾选使用本地DHCP服务将IP地址分配给虚拟机&#34;&gt;&lt;a href=&#34;#2-取消勾选使用本地DHCP服务将IP地址分配给虚拟机&#34; class=&#34;headerlink&#34; title=&#34;2. 取消勾选使用本地DHCP服务将IP地址分配给虚拟机&#34;&gt;&lt;/a&gt;2. 取消勾选使用本地DHCP服务将IP地址分配给虚拟机&lt;/h3&gt;&lt;h3 id=&#34;3-单击“NAT-设置”-修改网关：192-168-1-2&#34;&gt;&lt;a href=&#34;#3-单击“NAT-设置”-修改网关：192-168-1-2&#34; class=&#34;headerlink&#34; title=&#34;3. 单击“NAT 设置” 修改网关：192.168.1.2&#34;&gt;&lt;/a&gt;3. 单击“NAT 设置” 修改网关：192.168.1.2&lt;/h3&gt;&lt;h2 id=&#34;二、配置服务器（server）与客户端（client）的IP地址并使互相ping通&#34;&gt;&lt;a href=&#34;#二、配置服务器（server）与客户端（client）的IP地址并使互相ping通&#34; class=&#34;headerlink&#34; title=&#34;二、配置服务器（server）与客户端（client）的IP地址并使互相ping通&#34;&gt;&lt;/a&gt;二、配置服务器（server）与客户端（client）的IP地址并使互相ping通&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;su root															\\进入root&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/sysconfig/network-scripts/ifcfg-ens33					\\修改默认网卡脚本 一切按照实际情况&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;1-服务器（server）网络配置（添加修改命令如下）&#34;&gt;&lt;a href=&#34;#1-服务器（server）网络配置（添加修改命令如下）&#34; class=&#34;headerlink&#34; title=&#34;1. 服务器（server）网络配置（添加修改命令如下）&#34;&gt;&lt;/a&gt;1. 服务器（server）网络配置（添加修改命令如下）&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=&lt;span class=&#34;string&#34;&gt;&amp;quot;static&amp;quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ONBOOT=&lt;span class=&#34;string&#34;&gt;&amp;quot;yes&amp;quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=&lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=&lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.2&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMAKS=&lt;span class=&#34;number&#34;&gt;255.255&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.255&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=&lt;span class=&#34;number&#34;&gt;202.96&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.128&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.86&lt;/span&gt;（电信）	联通：&lt;span class=&#34;number&#34;&gt;221.5&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.88&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.88&lt;/span&gt;	移动：&lt;span class=&#34;number&#34;&gt;211.136&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS2=&lt;span class=&#34;number&#34;&gt;114.114&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.114&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.114&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/287e94072c3aba4c9d5f1.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/287e94072c3aba4c9d5f1.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-客户端（client）同理&#34;&gt;&lt;a href=&#34;#2-客户端（client）同理&#34; class=&#34;headerlink&#34; title=&#34;2. 客户端（client）同理&#34;&gt;&lt;/a&gt;2. 客户端（client）同理&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;BOOTPROTO=&lt;span class=&#34;string&#34;&gt;&amp;quot;static&amp;quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ONBOOT=&lt;span class=&#34;string&#34;&gt;&amp;quot;yes&amp;quot;&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;IPADDR=&lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;GATEWAY=&lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.2&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;NETMAKS=&lt;span class=&#34;number&#34;&gt;255.255&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.255&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.0&lt;/span&gt; &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS1=&lt;span class=&#34;number&#34;&gt;202.96&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.128&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.86&lt;/span&gt;（电信）	联通：&lt;span class=&#34;number&#34;&gt;221.5&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.88&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.88&lt;/span&gt;	移动：&lt;span class=&#34;number&#34;&gt;211.136&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.192&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.6&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;DNS2=&lt;span class=&#34;number&#34;&gt;114.114&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.114&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.114&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/01459d855c7a42e646142.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/01459d855c7a42e646142.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-服务器（Server）与客户端（Client）互相ping通&#34;&gt;&lt;a href=&#34;#3-服务器（Server）与客户端（Client）互相ping通&#34; class=&#34;headerlink&#34; title=&#34;3. 服务器（Server）与客户端（Client）互相ping通&#34;&gt;&lt;/a&gt;3. 服务器（Server）与客户端（Client）互相ping通&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/cd8e84945a0c96b3ba10e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/cd8e84945a0c96b3ba10e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、在服务器（Server）上添加用户&#34;&gt;&lt;a href=&#34;#三、在服务器（Server）上添加用户&#34; class=&#34;headerlink&#34; title=&#34;三、在服务器（Server）上添加用户&#34;&gt;&lt;/a&gt;三、在服务器（Server）上添加用户&lt;/h2&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;useradd admin									\\添加管理员admin&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;passwd --stdin admin							\\为管理员admin设置密码&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;password										\\输入题目要求密码&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/dcbc3c531ac66b66e037a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/dcbc3c531ac66b66e037a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;四、在服务器（Server）修改ssh默认端口&#34;&gt;&lt;a href=&#34;#四、在服务器（Server）修改ssh默认端口&#34; class=&#34;headerlink&#34; title=&#34;四、在服务器（Server）修改ssh默认端口&#34;&gt;&lt;/a&gt;四、在服务器（Server）修改ssh默认端口&lt;/h2&gt;&lt;h3 id=&#34;1-确保虚拟机已安装openssh-server-以下命令可查询&#34;&gt;&lt;a href=&#34;#1-确保虚拟机已安装openssh-server-以下命令可查询&#34; class=&#34;headerlink&#34; title=&#34;1. 确保虚拟机已安装openssh-server 以下命令可查询&#34;&gt;&lt;/a&gt;1. 确保虚拟机已安装openssh-server 以下命令可查询&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum list installed | grep openssh-server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b09fa4d1f40e5a93c5c7a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b09fa4d1f40e5a93c5c7a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;若无结果就未安装，则可输入以下命令进行安装&#34;&gt;&lt;a href=&#34;#若无结果就未安装，则可输入以下命令进行安装&#34; class=&#34;headerlink&#34; title=&#34;若无结果就未安装，则可输入以下命令进行安装&#34;&gt;&lt;/a&gt;若无结果就未安装，则可输入以下命令进行安装&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;yum -y install openssh-server&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2-修改默认端口&#34;&gt;&lt;a href=&#34;#2-修改默认端口&#34; class=&#34;headerlink&#34; title=&#34;2. 修改默认端口&#34;&gt;&lt;/a&gt;2. 修改默认端口&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/ssh/sshd_config&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/4ebd48c1d1c005be1286d.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/4ebd48c1d1c005be1286d.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-防火墙设置和修改安全上下文&#34;&gt;&lt;a href=&#34;#3-防火墙设置和修改安全上下文&#34; class=&#34;headerlink&#34; title=&#34;3. 防火墙设置和修改安全上下文&#34;&gt;&lt;/a&gt;3. 防火墙设置和修改安全上下文&lt;/h3&gt;&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --permanent --add-port=&lt;span class=&#34;number&#34;&gt;61234&lt;/span&gt;/tcp				\\开启端口&lt;span class=&#34;number&#34;&gt;61234&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;firewall-cmd --reload										\\重启防火墙&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;semanage port -a -t ssh_port_t -p tcp &lt;span class=&#34;number&#34;&gt;61234&lt;/span&gt;					\\修改安全上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;semanage port -l | grep ssh									\\查看修改以后的上下文&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart sshd										\\重启ssh服务&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl enable sshd									    \\设置ssh服务开机自启&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/7d0076fc7114f62912f38.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/7d0076fc7114f62912f38.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-客户端（Client）测试&#34;&gt;&lt;a href=&#34;#4-客户端（Client）测试&#34; class=&#34;headerlink&#34; title=&#34;4.客户端（Client）测试&#34;&gt;&lt;/a&gt;4.客户端（Client）测试&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/265010c8a895e25da61e4.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/265010c8a895e25da61e4.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;五、指定用户免密登录&#34;&gt;&lt;a href=&#34;#五、指定用户免密登录&#34; class=&#34;headerlink&#34; title=&#34;五、指定用户免密登录&#34;&gt;&lt;/a&gt;五、指定用户免密登录&lt;/h2&gt;&lt;h3 id=&#34;1-首先在客户端（Client）生成密钥并发送到服务器（Server）&#34;&gt;&lt;a href=&#34;#1-首先在客户端（Client）生成密钥并发送到服务器（Server）&#34; class=&#34;headerlink&#34; title=&#34;1. 首先在客户端（Client）生成密钥并发送到服务器（Server）&#34;&gt;&lt;/a&gt;1. 首先在客户端（Client）生成密钥并发送到服务器（Server）&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b8b1e7237120492d6a675.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b8b1e7237120492d6a675.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;ssh-keygen										\\生成密钥 连续 按&lt;span class=&#34;number&#34;&gt;3&lt;/span&gt;次 Enter键&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;ssh-copy-id -p &lt;span class=&#34;number&#34;&gt;61234&lt;/span&gt; admin@&lt;span class=&#34;number&#34;&gt;192.168&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.1&lt;/span&gt;&lt;span class=&#34;number&#34;&gt;.10&lt;/span&gt;			\\把生成的密钥传到服务器去&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;2-其次在服务器（Server）修改配置文件-禁止root用户登录和无密码登录&#34;&gt;&lt;a href=&#34;#2-其次在服务器（Server）修改配置文件-禁止root用户登录和无密码登录&#34; class=&#34;headerlink&#34; title=&#34;2. 其次在服务器（Server）修改配置文件 禁止root用户登录和无密码登录&#34;&gt;&lt;/a&gt;2. 其次在服务器（Server）修改配置文件 禁止root用户登录和无密码登录&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/0e7c4336feb5885a628db.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/0e7c4336feb5885a628db.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;figure class=&#34;highlight java&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;vim /etc/ssh/sshd_config						\\打开配置文件&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;systemctl restart sshd							\\修改完重启ssh服务&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h3 id=&#34;3-在客户端（Client）上测试&#34;&gt;&lt;a href=&#34;#3-在客户端（Client）上测试&#34; class=&#34;headerlink&#34; title=&#34;3. 在客户端（Client）上测试&#34;&gt;&lt;/a&gt;3. 在客户端（Client）上测试&lt;/h3&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/328d429cca3adb782450b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/328d429cca3adb782450b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt; &lt;strong&gt;管理员admin成功免密登录，其他用户均无法远程访问服务器。&lt;/strong&gt;&lt;/p&gt;
&lt;h2 id=&#34;六、至此，实验结束。&#34;&gt;&lt;a href=&#34;#六、至此，实验结束。&#34; class=&#34;headerlink&#34; title=&#34;六、至此，实验结束。&#34;&gt;&lt;/a&gt;六、至此，实验结束。&lt;/h2&gt; ]]></description>
        </item>
        <item>
            <guid isPermalink="true">https://yeminxi.github.io/posts/6404ce4b.html</guid>
            <title>第一章 VMware Workstation Pro 17安装Centos 7 安装虚拟机及简单配置</title>
            <link>https://yeminxi.github.io/posts/6404ce4b.html</link>
            <category>服务器</category>
            <category>运维</category>
            <category>VMware</category>
            <category>Linux</category>
            <category>CentOS</category>
            <pubDate>Sat, 25 May 2024 05:15:51 +0000</pubDate>
            <description><![CDATA[ &lt;h1 id=&#34;前言-vm-17-安装Centos7-安装准备&#34;&gt;&lt;a href=&#34;#前言-vm-17-安装Centos7-安装准备&#34; class=&#34;headerlink&#34; title=&#34;前言  vm 17 安装Centos7 安装准备&#34;&gt;&lt;/a&gt;前言  vm 17 安装Centos7 安装准备&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;单击文字下载&lt;br&gt;    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&#34;https://pan-yz.cldisk.com/external/m/file/996322369614340096&#34;&gt;镜像&lt;/a&gt;&lt;br&gt;    &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;a href=&#34;https://www.vmware.com/cn/products/workstation-pro/workstation-pro-evaluation.html&#34;&gt;官网自行下载&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;一、创建新的虚拟机&#34;&gt;&lt;a href=&#34;#一、创建新的虚拟机&#34; class=&#34;headerlink&#34; title=&#34;一、创建新的虚拟机&#34;&gt;&lt;/a&gt;一、创建新的虚拟机&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/8d8cbe41506c9a66e5067.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/8d8cbe41506c9a66e5067.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;二、选择硬件兼容性&#34;&gt;&lt;a href=&#34;#二、选择硬件兼容性&#34; class=&#34;headerlink&#34; title=&#34;二、选择硬件兼容性&#34;&gt;&lt;/a&gt;二、选择硬件兼容性&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/33224d2fee42ecb57d6a7.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/33224d2fee42ecb57d6a7.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;三、安装客户机操作系统&#34;&gt;&lt;a href=&#34;#三、安装客户机操作系统&#34; class=&#34;headerlink&#34; title=&#34;三、安装客户机操作系统&#34;&gt;&lt;/a&gt;三、安装客户机操作系统&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/db15754c0e370219cdb05.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/db15754c0e370219cdb05.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;四、个性化Linux&#34;&gt;&lt;a href=&#34;#四、个性化Linux&#34; class=&#34;headerlink&#34; title=&#34;四、个性化Linux&#34;&gt;&lt;/a&gt;四、个性化Linux&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/d3f2efc9dafd94297df88.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/d3f2efc9dafd94297df88.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;五、命名虚拟机-位置&#34;&gt;&lt;a href=&#34;#五、命名虚拟机-位置&#34; class=&#34;headerlink&#34; title=&#34;五、命名虚拟机 位置&#34;&gt;&lt;/a&gt;五、命名虚拟机 位置&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/7bd92fe9c66fc538938e8.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/7bd92fe9c66fc538938e8.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;六、处理器配置&#34;&gt;&lt;a href=&#34;#六、处理器配置&#34; class=&#34;headerlink&#34; title=&#34;六、处理器配置&#34;&gt;&lt;/a&gt;六、处理器配置&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/ab1bf00a9512e745a02d6.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/ab1bf00a9512e745a02d6.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;七、此虚拟机内存（默认即可-看自己配置）&#34;&gt;&lt;a href=&#34;#七、此虚拟机内存（默认即可-看自己配置）&#34; class=&#34;headerlink&#34; title=&#34;七、此虚拟机内存（默认即可 看自己配置）&#34;&gt;&lt;/a&gt;七、此虚拟机内存（默认即可 看自己配置）&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/53bba1b04d860c72d0963.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/53bba1b04d860c72d0963.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;八、网络类型&#34;&gt;&lt;a href=&#34;#八、网络类型&#34; class=&#34;headerlink&#34; title=&#34;八、网络类型&#34;&gt;&lt;/a&gt;八、网络类型&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/4620459158b88fbcf8014.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/4620459158b88fbcf8014.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;九、选择磁盘类型&#34;&gt;&lt;a href=&#34;#九、选择磁盘类型&#34; class=&#34;headerlink&#34; title=&#34;九、选择磁盘类型&#34;&gt;&lt;/a&gt;九、选择磁盘类型&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/4b2406e78d01a4466735a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/4b2406e78d01a4466735a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;十、选择I-O控制器类型&#34;&gt;&lt;a href=&#34;#十、选择I-O控制器类型&#34; class=&#34;headerlink&#34; title=&#34;十、选择I&amp;#x2F;O控制器类型&#34;&gt;&lt;/a&gt;十、选择I&amp;#x2F;O控制器类型&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/1b774776de43e1e0df272.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/1b774776de43e1e0df272.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;十一、指定磁盘容量&#34;&gt;&lt;a href=&#34;#十一、指定磁盘容量&#34; class=&#34;headerlink&#34; title=&#34;十一、指定磁盘容量&#34;&gt;&lt;/a&gt;十一、指定磁盘容量&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/303dfe834fe95a50f27d7.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/303dfe834fe95a50f27d7.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;十二、选择磁盘&#34;&gt;&lt;a href=&#34;#十二、选择磁盘&#34; class=&#34;headerlink&#34; title=&#34;十二、选择磁盘&#34;&gt;&lt;/a&gt;十二、选择磁盘&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/4737e8d92549bf1f5ca75.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/4737e8d92549bf1f5ca75.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;十三、指定磁盘文件&#34;&gt;&lt;a href=&#34;#十三、指定磁盘文件&#34; class=&#34;headerlink&#34; title=&#34;十三、指定磁盘文件&#34;&gt;&lt;/a&gt;十三、指定磁盘文件&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9a9a115a72cc6a63d4ee4.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9a9a115a72cc6a63d4ee4.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;十四、完成&#34;&gt;&lt;a href=&#34;#十四、完成&#34; class=&#34;headerlink&#34; title=&#34;十四、完成&#34;&gt;&lt;/a&gt;十四、完成&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/a4360fbc27a38fe8040b0.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/a4360fbc27a38fe8040b0.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;十五、中继服务器安装可以参考这一步（其余可忽略此步）&#34;&gt;&lt;a href=&#34;#十五、中继服务器安装可以参考这一步（其余可忽略此步）&#34; class=&#34;headerlink&#34; title=&#34;十五、中继服务器安装可以参考这一步（其余可忽略此步）&#34;&gt;&lt;/a&gt;十五、中继服务器安装可以参考这一步（其余可忽略此步）&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;双网卡 NAT模式 仅主机&lt;/strong&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b266fccebe578c0d7745c.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b266fccebe578c0d7745c.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/e89e9b0d772197548641b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/e89e9b0d772197548641b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/dd298c168427001c63a25.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/dd298c168427001c63a25.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/633cb4080d73173ae94e2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/633cb4080d73173ae94e2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;十六、启动虚拟机&#34;&gt;&lt;a href=&#34;#十六、启动虚拟机&#34; class=&#34;headerlink&#34; title=&#34;十六、启动虚拟机&#34;&gt;&lt;/a&gt;十六、启动虚拟机&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/b79117af237c9eacfd47c.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/b79117af237c9eacfd47c.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;不需要任何操作，等待一段时间&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/9acda126e29400555c4f9.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/9acda126e29400555c4f9.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;出现此界面即安装完成&lt;/p&gt;
&lt;h2 id=&#34;十七、设置中文-拼音输入法-时区&#34;&gt;&lt;a href=&#34;#十七、设置中文-拼音输入法-时区&#34; class=&#34;headerlink&#34; title=&#34;十七、设置中文 拼音输入法 时区&#34;&gt;&lt;/a&gt;十七、设置中文 拼音输入法 时区&lt;/h2&gt;&lt;p&gt;按照步骤进行实验&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/fcd2ce9fbc2f4a30689a3.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/fcd2ce9fbc2f4a30689a3.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/7aea610295c1887c69ad2.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/7aea610295c1887c69ad2.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/3dd03cd5b76565c453b15.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/3dd03cd5b76565c453b15.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/92d4077407b880ced8c8a.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/92d4077407b880ced8c8a.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/eb6ae8c0dd80d7af39e61.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/eb6ae8c0dd80d7af39e61.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;br&gt;重启即可&lt;/p&gt;
&lt;h2 id=&#34;至此，安装完成。&#34;&gt;&lt;a href=&#34;#至此，安装完成。&#34; class=&#34;headerlink&#34; title=&#34;至此，安装完成。&#34;&gt;&lt;/a&gt;至此，安装完成。&lt;/h2&gt;&lt;h3 id=&#34;注意事项&#34;&gt;&lt;a href=&#34;#注意事项&#34; class=&#34;headerlink&#34; title=&#34;注意事项&#34;&gt;&lt;/a&gt;注意事项&lt;/h3&gt;&lt;h4 id=&#34;一开机就蓝屏的情况，可以参考以下方法：&#34;&gt;&lt;a href=&#34;#一开机就蓝屏的情况，可以参考以下方法：&#34; class=&#34;headerlink&#34; title=&#34;一开机就蓝屏的情况，可以参考以下方法：&#34;&gt;&lt;/a&gt;一开机就蓝屏的情况，可以参考以下方法：&lt;/h4&gt;&lt;h5 id=&#34;1-配置虚拟内存（20480MB打上）&#34;&gt;&lt;a href=&#34;#1-配置虚拟内存（20480MB打上）&#34; class=&#34;headerlink&#34; title=&#34;1. 配置虚拟内存（20480MB打上）&#34;&gt;&lt;/a&gt;1. 配置虚拟内存（20480MB打上）&lt;/h5&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/68fd31450cfb5356e965e.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/68fd31450cfb5356e965e.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
&lt;h5 id=&#34;2-打开功能&#34;&gt;&lt;a href=&#34;#2-打开功能&#34; class=&#34;headerlink&#34; title=&#34;2. 打开功能&#34;&gt;&lt;/a&gt;2. 打开功能&lt;/h5&gt;&lt;p&gt;&lt;img src=&#34;https://ymxpic.pages.dev/file/27765d942109e52aa010b.jpg&#34; class=&#34;lazyload placeholder&#34; data-srcset=&#34;https://ymxpic.pages.dev/file/27765d942109e52aa010b.jpg&#34; srcset=&#34;https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp&#34;&gt;&lt;/p&gt;
 ]]></description>
        </item>
    </channel>
</rss>